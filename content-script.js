(()=>{"use strict";const t=document.createElement("div");t.classList.add("fuzzy-tab-search-parent"),t.tabIndex=0;const e=document.createElement("ul");e.classList.add("fuzzy-tab-search-tab-list");const n=document.createElement("input");function s(t){return Array.isArray?Array.isArray(t):"[object Array]"===h(t)}function i(t){return"string"==typeof t}function r(t){return"number"==typeof t}function c(t){return"object"==typeof t}function o(t){return null!=t}function a(t){return!t.trim().length}function h(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.classList.add("fuzzy-tab-search-search-box"),n.autofocus=!0;const l=Object.prototype.hasOwnProperty;class u{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let n=d(t);this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function d(t){let e=null,n=null,r=null,c=1,o=null;if(i(t)||s(t))r=t,e=g(t),n=f(t);else{if(!l.call(t,"name"))throw new Error("Missing name property in key");const s=t.name;if(r=s,l.call(t,"weight")&&(c=t.weight,c<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(s));e=g(s),n=f(s),o=t.getFn}return{path:e,id:n,weight:c,src:r,getFn:o}}function g(t){return s(t)?t:t.split(".")}function f(t){return s(t)?t.join("."):t}var p={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(t,e){let n=[],a=!1;const l=(t,e,u)=>{if(o(t))if(e[u]){const d=t[e[u]];if(!o(d))return;if(u===e.length-1&&(i(d)||r(d)||function(t){return!0===t||!1===t||function(t){return c(t)&&null!==t}(t)&&"[object Boolean]"==h(t)}(d)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(d));else if(s(d)){a=!0;for(let t=0,n=d.length;t<n;t+=1)l(d[t],e,u+1)}else e.length&&l(d,e,u+1)}else n.push(t)};return l(t,i(e)?e.split("."):e,0),a?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const m=/[^ ]+/g;class y{constructor({getFn:t=p.getFn,fieldNormWeight:e=p.fieldNormWeight}={}){this.norm=function(t=1,e=3){const n=new Map,s=Math.pow(10,e);return{get(e){const i=e.match(m).length;if(n.has(i))return n.get(i);const r=1/Math.pow(i,.5*t),c=parseFloat(Math.round(r*s)/s);return n.set(i,c),c},clear(){n.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,i(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();i(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!o(t)||a(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach(((e,r)=>{let c=e.getFn?e.getFn(t):this.getFn(t,e.path);if(o(c))if(s(c)){let t=[];const e=[{nestedArrIndex:-1,value:c}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(o(r))if(i(r)&&!a(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else s(r)&&r.forEach(((t,n)=>{e.push({nestedArrIndex:n,value:t})}))}n.$[r]=t}else if(i(c)&&!a(c)){let t={v:c,n:this.norm.get(c)};n.$[r]=t}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function M(t,e,{getFn:n=p.getFn,fieldNormWeight:s=p.fieldNormWeight}={}){const i=new y({getFn:n,fieldNormWeight:s});return i.setKeys(t.map(d)),i.setSources(e),i.create(),i}function x(t,{errors:e=0,currentLocation:n=0,expectedLocation:s=0,distance:i=p.distance,ignoreLocation:r=p.ignoreLocation}={}){const c=e/t.length;if(r)return c;const o=Math.abs(s-n);return i?c+o/i:o?1:c}const L=32;function v(t){let e={};for(let n=0,s=t.length;n<s;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<s-n-1}return e}class k{constructor(t,{location:e=p.location,threshold:n=p.threshold,distance:s=p.distance,includeMatches:i=p.includeMatches,findAllMatches:r=p.findAllMatches,minMatchCharLength:c=p.minMatchCharLength,isCaseSensitive:o=p.isCaseSensitive,ignoreLocation:a=p.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:s,includeMatches:i,findAllMatches:r,minMatchCharLength:c,isCaseSensitive:o,ignoreLocation:a},this.pattern=o?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(t,e)=>{this.chunks.push({pattern:t,alphabet:v(t),startIndex:e})},l=this.pattern.length;if(l>L){let t=0;const e=l%L,n=l-e;for(;t<n;)h(this.pattern.substr(t,L),t),t+=L;if(e){const t=l-L;h(this.pattern.substr(t),t)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:s,distance:i,threshold:r,findAllMatches:c,minMatchCharLength:o,ignoreLocation:a}=this.options;let h=[],l=0,u=!1;this.chunks.forEach((({pattern:e,alphabet:d,startIndex:g})=>{const{isMatch:f,score:m,indices:y}=function(t,e,n,{location:s=p.location,distance:i=p.distance,threshold:r=p.threshold,findAllMatches:c=p.findAllMatches,minMatchCharLength:o=p.minMatchCharLength,includeMatches:a=p.includeMatches,ignoreLocation:h=p.ignoreLocation}={}){if(e.length>L)throw new Error("Pattern length exceeds max of 32.");const l=e.length,u=t.length,d=Math.max(0,Math.min(s,u));let g=r,f=d;const m=o>1||a,y=m?Array(u):[];let M;for(;(M=t.indexOf(e,f))>-1;){let t=x(e,{currentLocation:M,expectedLocation:d,distance:i,ignoreLocation:h});if(g=Math.min(t,g),f=M+l,m){let t=0;for(;t<l;)y[M+t]=1,t+=1}}f=-1;let v=[],k=1,b=l+u;const _=1<<l-1;for(let s=0;s<l;s+=1){let r=0,o=b;for(;r<o;)x(e,{errors:s,currentLocation:d+o,expectedLocation:d,distance:i,ignoreLocation:h})<=g?r=o:b=o,o=Math.floor((b-r)/2+r);b=o;let a=Math.max(1,d-o+1),p=c?u:Math.min(d+o,u)+l,M=Array(p+2);M[p+1]=(1<<s)-1;for(let r=p;r>=a;r-=1){let c=r-1,o=n[t.charAt(c)];if(m&&(y[c]=+!!o),M[r]=(M[r+1]<<1|1)&o,s&&(M[r]|=(v[r+1]|v[r])<<1|1|v[r+1]),M[r]&_&&(k=x(e,{errors:s,currentLocation:c,expectedLocation:d,distance:i,ignoreLocation:h}),k<=g)){if(g=k,f=c,f<=d)break;a=Math.max(1,2*d-f)}}if(x(e,{errors:s+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:h})>g)break;v=M}const E={isMatch:f>=0,score:Math.max(.001,k)};if(m){const t=function(t=[],e=p.minMatchCharLength){let n=[],s=-1,i=-1,r=0;for(let c=t.length;r<c;r+=1){let c=t[r];c&&-1===s?s=r:c||-1===s||(i=r-1,i-s+1>=e&&n.push([s,i]),s=-1)}return t[r-1]&&r-s>=e&&n.push([s,r-1]),n}(y,o);t.length?a&&(E.indices=t):E.isMatch=!1}return E}(t,e,d,{location:s+g,distance:i,threshold:r,findAllMatches:c,minMatchCharLength:o,includeMatches:n,ignoreLocation:a});f&&(u=!0),l+=m,f&&y&&(h=[...h,...y])}));let d={isMatch:u,score:u?l/this.chunks.length:1};return u&&n&&(d.indices=h),d}}class b{constructor(t){this.pattern=t}static isMultiMatch(t){return _(t,this.multiRegex)}static isSingleMatch(t){return _(t,this.singleRegex)}search(){}}function _(t,e){const n=t.match(e);return n?n[1]:null}class E extends b{constructor(t,{location:e=p.location,threshold:n=p.threshold,distance:s=p.distance,includeMatches:i=p.includeMatches,findAllMatches:r=p.findAllMatches,minMatchCharLength:c=p.minMatchCharLength,isCaseSensitive:o=p.isCaseSensitive,ignoreLocation:a=p.ignoreLocation}={}){super(t),this._bitapSearch=new k(t,{location:e,threshold:n,distance:s,includeMatches:i,findAllMatches:r,minMatchCharLength:c,isCaseSensitive:o,ignoreLocation:a})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class S extends b{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const s=[],i=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+i,s.push([e,n-1]);const r=!!s.length;return{isMatch:r,score:r?0:1,indices:s}}}const C=[class extends b{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},S,class extends b{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends b{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends b{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends b{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends b{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},E],w=C.length,I=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,A=new Set([E.type,S.type]);const $=[];function F(t,e){for(let n=0,s=$.length;n<s;n+=1){let s=$[n];if(s.condition(t,e))return new s(t,e)}return new k(t,e)}const N="$and",R="$path",O=t=>!(!t[N]&&!t.$or),j=t=>({[N]:Object.keys(t).map((e=>({[e]:t[e]})))});function W(t,e,{auto:n=!0}={}){const r=t=>{let o=Object.keys(t);const a=(t=>!!t[R])(t);if(!a&&o.length>1&&!O(t))return r(j(t));if((t=>!s(t)&&c(t)&&!O(t))(t)){const s=a?t[R]:o[0],r=a?t.$val:t[s];if(!i(r))throw new Error((t=>`Invalid value for key ${t}`)(s));const c={keyId:f(s),pattern:r};return n&&(c.searcher=F(r,e)),c}let h={children:[],operator:o[0]};return o.forEach((e=>{const n=t[e];s(n)&&n.forEach((t=>{h.children.push(r(t))}))})),h};return O(t)||(t=j(t)),r(t)}function z(t,e){const n=t.matches;e.matches=[],o(n)&&n.forEach((t=>{if(!o(t.indices)||!t.indices.length)return;const{indices:n,value:s}=t;let i={indices:n,value:s};t.key&&(i.key=t.key.src),t.idx>-1&&(i.refIndex=t.idx),e.matches.push(i)}))}function K(t,e){e.score=t.score}class P{constructor(t,e={},n){this.options={...p,...e},this.options.useExtendedSearch,this._keyStore=new u(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof y))throw new Error("Incorrect 'index' type");this._myIndex=e||M(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){o(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let n=0,s=this._docs.length;n<s;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,s-=1,e.push(i))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:s,shouldSort:c,sortFn:o,ignoreFieldNorm:a}=this.options;let h=i(t)?i(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=p.ignoreFieldNorm}){t.forEach((t=>{let n=1;t.matches.forEach((({key:t,norm:s,score:i})=>{const r=t?t.weight:null;n*=Math.pow(0===i&&r?Number.EPSILON:i,(r||1)*(e?1:s))})),t.score=n}))}(h,{ignoreFieldNorm:a}),c&&h.sort(o),r(e)&&e>-1&&(h=h.slice(0,e)),function(t,e,{includeMatches:n=p.includeMatches,includeScore:s=p.includeScore}={}){const i=[];return n&&i.push(z),s&&i.push(K),t.map((t=>{const{idx:n}=t,s={item:e[n],refIndex:n};return i.length&&i.forEach((e=>{e(t,s)})),s}))}(h,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(t){const e=F(t,this.options),{records:n}=this._myIndex,s=[];return n.forEach((({v:t,i:n,n:i})=>{if(!o(t))return;const{isMatch:r,score:c,indices:a}=e.searchIn(t);r&&s.push({item:t,idx:n,matches:[{score:c,value:t,norm:i,indices:a}]})})),s}_searchLogical(t){const e=W(t,this.options),n=(t,e,s)=>{if(!t.children){const{keyId:n,searcher:i}=t,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:i});return r&&r.length?[{idx:s,item:e,matches:r}]:[]}const i=[];for(let r=0,c=t.children.length;r<c;r+=1){const c=t.children[r],o=n(c,e,s);if(o.length)i.push(...o);else if(t.operator===N)return[]}return i},s=this._myIndex.records,i={},r=[];return s.forEach((({$:t,i:s})=>{if(o(t)){let c=n(e,t,s);c.length&&(i[s]||(i[s]={idx:s,item:t,matches:[]},r.push(i[s])),c.forEach((({matches:t})=>{i[s].matches.push(...t)})))}})),r}_searchObjectList(t){const e=F(t,this.options),{keys:n,records:s}=this._myIndex,i=[];return s.forEach((({$:t,i:s})=>{if(!o(t))return;let r=[];n.forEach(((n,s)=>{r.push(...this._findMatches({key:n,value:t[s],searcher:e}))})),r.length&&i.push({idx:s,item:t,matches:r})})),i}_findMatches({key:t,value:e,searcher:n}){if(!o(e))return[];let i=[];if(s(e))e.forEach((({v:e,i:s,n:r})=>{if(!o(e))return;const{isMatch:c,score:a,indices:h}=n.searchIn(e);c&&i.push({score:a,key:t,value:e,idx:s,norm:r,indices:h})}));else{const{v:s,n:r}=e,{isMatch:c,score:o,indices:a}=n.searchIn(s);c&&i.push({score:o,key:t,value:s,norm:r,indices:a})}return i}}P.version="7.0.0",P.createIndex=M,P.parseIndex=function(t,{getFn:e=p.getFn,fieldNormWeight:n=p.fieldNormWeight}={}){const{keys:s,records:i}=t,r=new y({getFn:e,fieldNormWeight:n});return r.setKeys(s),r.setIndexRecords(i),r},P.config=p,P.parseQuery=W,function(...t){$.push(...t)}(class{constructor(t,{isCaseSensitive:e=p.isCaseSensitive,includeMatches:n=p.includeMatches,minMatchCharLength:s=p.minMatchCharLength,ignoreLocation:i=p.ignoreLocation,findAllMatches:r=p.findAllMatches,location:c=p.location,threshold:o=p.threshold,distance:a=p.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:s,findAllMatches:r,ignoreLocation:i,location:c,threshold:o,distance:a},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let n=t.trim().split(I).filter((t=>t&&!!t.trim())),s=[];for(let t=0,i=n.length;t<i;t+=1){const i=n[t];let r=!1,c=-1;for(;!r&&++c<w;){const t=C[c];let n=t.isMultiMatch(i);n&&(s.push(new t(n,e)),r=!0)}if(!r)for(c=-1;++c<w;){const t=C[c];let n=t.isSingleMatch(i);if(n){s.push(new t(n,e));break}}}return s}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s}=this.options;t=s?t:t.toLowerCase();let i=0,r=[],c=0;for(let s=0,o=e.length;s<o;s+=1){const o=e[s];r.length=0,i=0;for(let e=0,s=o.length;e<s;e+=1){const s=o[e],{isMatch:a,indices:h,score:l}=s.search(t);if(!a){c=0,i=0,r.length=0;break}if(i+=1,c+=l,n){const t=s.constructor.type;A.has(t)?r=[...r,...h]:r.push(h)}}if(i){let t={isMatch:!0,score:c/i};return n&&(t.indices=r),t}}return{isMatch:!1,score:1}}}),t.appendChild(e),t.appendChild(n);const q={keys:["title","url"]};let J;function T(){n.value,browser.runtime.sendMessage({action:"getTabs"},(s=>{s?function(s){e.innerHTML="";const i=n.value.trim(),r=new P(s,q),c=""===i?s:r.search(i).map((t=>t.item));c.reverse(),c.forEach(((n,s,i)=>{const r=document.createElement("li");r.classList.add("fuzzy-tab-search-tab-list-item");const c=new URL(n.url).hostname;r.textContent=c+" : "+n.title,s===i.length-1&&(J=r,J.classList.add("bg-gray-500")),r.addEventListener("click",(()=>{browser.runtime.sendMessage({action:"highlightTab",tabIndex:n.index}),document.body.removeChild(t)})),e.appendChild(r)}))}(s):console.error("Failed to fetch tabs.")}))}document.addEventListener("keydown",(function(e){e.ctrlKey&&"f"===e.key&&(n.value="",T(),e.preventDefault(),document.body.appendChild(t),n.focus(),console.log("test"))})),t.addEventListener("keydown",(function(e){"Escape"===e.key&&document.body.removeChild(t)})),n.addEventListener("input",T),n.addEventListener("keydown",(function(t){"Enter"===t.key?J.click():t.ctrlKey&&"p"===t.key?J.previousElementSibling&&(J.classList.remove("bg-gray-500"),J=J.previousElementSibling,J.classList.add("bg-gray-500")):t.ctrlKey&&"n"===t.key&&J.nextElementSibling&&(J.classList.remove("bg-gray-500"),J=J.nextElementSibling,J.classList.add("bg-gray-500"))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU8sRUFBTzZSLGlCQUFpQixRQUFTbEIsR0FFakMzUSxFQUFPNlIsaUJBQWlCLFdBQVcsU0FBVU0sR0FDekIsVUFBZEEsRUFBTXZRLElBQ1I4TyxFQUFhOEIsUUFDSkwsRUFBTUMsU0FBeUIsTUFBZEQsRUFBTXZRLElBQzVCOE8sRUFBYStCLHlCQUNmL0IsRUFBYTlRLFVBQVV1TyxPQUFPLGVBQzlCdUMsRUFBZUEsRUFBYStCLHVCQUM1Qi9CLEVBQWE5USxVQUFVQyxJQUFJLGdCQUVwQnNTLEVBQU1DLFNBQXlCLE1BQWRELEVBQU12USxLQUU1QjhPLEVBQWFnQyxxQkFDZmhDLEVBQWE5USxVQUFVdU8sT0FBTyxlQUM5QnVDLEVBQWVBLEVBQWFnQyxtQkFDNUJoQyxFQUFhOVEsVUFBVUMsSUFBSSxlQUdqQyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV6enktdGFiLXNlYXJjaC8uL3NyYy9lbGVtZW50cy5qcyIsIndlYnBhY2s6Ly9mdXp6eS10YWItc2VhcmNoLy4vbm9kZV9tb2R1bGVzL2Z1c2UuanMvZGlzdC9mdXNlLm1qcyIsIndlYnBhY2s6Ly9mdXp6eS10YWItc2VhcmNoLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1haW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xubWFpbkRpdi5jbGFzc0xpc3QuYWRkKFwiZnV6enktdGFiLXNlYXJjaC1wYXJlbnRcIik7XG5tYWluRGl2LnRhYkluZGV4ID0gMDtcblxuY29uc3QgdGFiTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbnRhYkxpc3QuY2xhc3NMaXN0LmFkZChcImZ1enp5LXRhYi1zZWFyY2gtdGFiLWxpc3RcIik7XG5cbmNvbnN0IHNlYXJjaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbnNlYXJjaC5jbGFzc0xpc3QuYWRkKFwiZnV6enktdGFiLXNlYXJjaC1zZWFyY2gtYm94XCIpO1xuc2VhcmNoLmF1dG9mb2N1cyA9IHRydWU7XG5cbmV4cG9ydCB7IG1haW5EaXYsIHRhYkxpc3QsIHNlYXJjaCB9O1xuIiwiLyoqXG4gKiBGdXNlLmpzIHY3LjAuMCAtIExpZ2h0d2VpZ2h0IGZ1enp5LXNlYXJjaCAoaHR0cDovL2Z1c2Vqcy5pbylcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjMgS2lybyBSaXNrIChodHRwOi8va2lyby5tZSlcbiAqIEFsbCBSaWdodHMgUmVzZXJ2ZWQuIEFwYWNoZSBTb2Z0d2FyZSBMaWNlbnNlIDIuMFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICovXG5cbmZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuICFBcnJheS5pc0FycmF5XG4gICAgPyBnZXRUYWcodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nXG4gICAgOiBBcnJheS5pc0FycmF5KHZhbHVlKVxufVxuXG4vLyBBZGFwdGVkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9sb2Rhc2gvbG9kYXNoL2Jsb2IvbWFzdGVyLy5pbnRlcm5hbC9iYXNlVG9TdHJpbmcuanNcbmNvbnN0IElORklOSVRZID0gMSAvIDA7XG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZVxuICB9XG4gIGxldCByZXN1bHQgPSB2YWx1ZSArICcnO1xuICByZXR1cm4gcmVzdWx0ID09ICcwJyAmJiAxIC8gdmFsdWUgPT0gLUlORklOSVRZID8gJy0wJyA6IHJlc3VsdFxufVxuXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKVxufVxuXG5mdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xufVxuXG5mdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJ1xufVxuXG4vLyBBZGFwdGVkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9sb2Rhc2gvbG9kYXNoL2Jsb2IvbWFzdGVyL2lzQm9vbGVhbi5qc1xuZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgPT09IHRydWUgfHxcbiAgICB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09ICdbb2JqZWN0IEJvb2xlYW5dJylcbiAgKVxufVxuXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xufVxuXG4vLyBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS5cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIHZhbHVlICE9PSBudWxsXG59XG5cbmZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbFxufVxuXG5mdW5jdGlvbiBpc0JsYW5rKHZhbHVlKSB7XG4gIHJldHVybiAhdmFsdWUudHJpbSgpLmxlbmd0aFxufVxuXG4vLyBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4vLyBBZGFwdGVkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9sb2Rhc2gvbG9kYXNoL2Jsb2IvbWFzdGVyLy5pbnRlcm5hbC9nZXRUYWcuanNcbmZ1bmN0aW9uIGdldFRhZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbFxuICAgID8gdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyAnW29iamVjdCBVbmRlZmluZWRdJ1xuICAgICAgOiAnW29iamVjdCBOdWxsXSdcbiAgICA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSlcbn1cblxuY29uc3QgRVhURU5ERURfU0VBUkNIX1VOQVZBSUxBQkxFID0gJ0V4dGVuZGVkIHNlYXJjaCBpcyBub3QgYXZhaWxhYmxlJztcblxuY29uc3QgSU5DT1JSRUNUX0lOREVYX1RZUEUgPSBcIkluY29ycmVjdCAnaW5kZXgnIHR5cGVcIjtcblxuY29uc3QgTE9HSUNBTF9TRUFSQ0hfSU5WQUxJRF9RVUVSWV9GT1JfS0VZID0gKGtleSkgPT5cbiAgYEludmFsaWQgdmFsdWUgZm9yIGtleSAke2tleX1gO1xuXG5jb25zdCBQQVRURVJOX0xFTkdUSF9UT09fTEFSR0UgPSAobWF4KSA9PlxuICBgUGF0dGVybiBsZW5ndGggZXhjZWVkcyBtYXggb2YgJHttYXh9LmA7XG5cbmNvbnN0IE1JU1NJTkdfS0VZX1BST1BFUlRZID0gKG5hbWUpID0+IGBNaXNzaW5nICR7bmFtZX0gcHJvcGVydHkgaW4ga2V5YDtcblxuY29uc3QgSU5WQUxJRF9LRVlfV0VJR0hUX1ZBTFVFID0gKGtleSkgPT5cbiAgYFByb3BlcnR5ICd3ZWlnaHQnIGluIGtleSAnJHtrZXl9JyBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlcmA7XG5cbmNvbnN0IGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmNsYXNzIEtleVN0b3JlIHtcbiAgY29uc3RydWN0b3Ioa2V5cykge1xuICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICB0aGlzLl9rZXlNYXAgPSB7fTtcblxuICAgIGxldCB0b3RhbFdlaWdodCA9IDA7XG5cbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgbGV0IG9iaiA9IGNyZWF0ZUtleShrZXkpO1xuXG4gICAgICB0aGlzLl9rZXlzLnB1c2gob2JqKTtcbiAgICAgIHRoaXMuX2tleU1hcFtvYmouaWRdID0gb2JqO1xuXG4gICAgICB0b3RhbFdlaWdodCArPSBvYmoud2VpZ2h0O1xuICAgIH0pO1xuXG4gICAgLy8gTm9ybWFsaXplIHdlaWdodHMgc28gdGhhdCB0aGVpciBzdW0gaXMgZXF1YWwgdG8gMVxuICAgIHRoaXMuX2tleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBrZXkud2VpZ2h0IC89IHRvdGFsV2VpZ2h0O1xuICAgIH0pO1xuICB9XG4gIGdldChrZXlJZCkge1xuICAgIHJldHVybiB0aGlzLl9rZXlNYXBba2V5SWRdXG4gIH1cbiAga2V5cygpIHtcbiAgICByZXR1cm4gdGhpcy5fa2V5c1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5fa2V5cylcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXkoa2V5KSB7XG4gIGxldCBwYXRoID0gbnVsbDtcbiAgbGV0IGlkID0gbnVsbDtcbiAgbGV0IHNyYyA9IG51bGw7XG4gIGxldCB3ZWlnaHQgPSAxO1xuICBsZXQgZ2V0Rm4gPSBudWxsO1xuXG4gIGlmIChpc1N0cmluZyhrZXkpIHx8IGlzQXJyYXkoa2V5KSkge1xuICAgIHNyYyA9IGtleTtcbiAgICBwYXRoID0gY3JlYXRlS2V5UGF0aChrZXkpO1xuICAgIGlkID0gY3JlYXRlS2V5SWQoa2V5KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWhhc093bi5jYWxsKGtleSwgJ25hbWUnKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKE1JU1NJTkdfS0VZX1BST1BFUlRZKCduYW1lJykpXG4gICAgfVxuXG4gICAgY29uc3QgbmFtZSA9IGtleS5uYW1lO1xuICAgIHNyYyA9IG5hbWU7XG5cbiAgICBpZiAoaGFzT3duLmNhbGwoa2V5LCAnd2VpZ2h0JykpIHtcbiAgICAgIHdlaWdodCA9IGtleS53ZWlnaHQ7XG5cbiAgICAgIGlmICh3ZWlnaHQgPD0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5WQUxJRF9LRVlfV0VJR0hUX1ZBTFVFKG5hbWUpKVxuICAgICAgfVxuICAgIH1cblxuICAgIHBhdGggPSBjcmVhdGVLZXlQYXRoKG5hbWUpO1xuICAgIGlkID0gY3JlYXRlS2V5SWQobmFtZSk7XG4gICAgZ2V0Rm4gPSBrZXkuZ2V0Rm47XG4gIH1cblxuICByZXR1cm4geyBwYXRoLCBpZCwgd2VpZ2h0LCBzcmMsIGdldEZuIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlS2V5UGF0aChrZXkpIHtcbiAgcmV0dXJuIGlzQXJyYXkoa2V5KSA/IGtleSA6IGtleS5zcGxpdCgnLicpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleUlkKGtleSkge1xuICByZXR1cm4gaXNBcnJheShrZXkpID8ga2V5LmpvaW4oJy4nKSA6IGtleVxufVxuXG5mdW5jdGlvbiBnZXQob2JqLCBwYXRoKSB7XG4gIGxldCBsaXN0ID0gW107XG4gIGxldCBhcnIgPSBmYWxzZTtcblxuICBjb25zdCBkZWVwR2V0ID0gKG9iaiwgcGF0aCwgaW5kZXgpID0+IHtcbiAgICBpZiAoIWlzRGVmaW5lZChvYmopKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKCFwYXRoW2luZGV4XSkge1xuICAgICAgLy8gSWYgdGhlcmUncyBubyBwYXRoIGxlZnQsIHdlJ3ZlIGFycml2ZWQgYXQgdGhlIG9iamVjdCB3ZSBjYXJlIGFib3V0LlxuICAgICAgbGlzdC5wdXNoKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBrZXkgPSBwYXRoW2luZGV4XTtcblxuICAgICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcblxuICAgICAgaWYgKCFpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBJZiB3ZSdyZSBhdCB0aGUgbGFzdCB2YWx1ZSBpbiB0aGUgcGF0aCwgYW5kIGlmIGl0J3MgYSBzdHJpbmcvbnVtYmVyL2Jvb2wsXG4gICAgICAvLyBhZGQgaXQgdG8gdGhlIGxpc3RcbiAgICAgIGlmIChcbiAgICAgICAgaW5kZXggPT09IHBhdGgubGVuZ3RoIC0gMSAmJlxuICAgICAgICAoaXNTdHJpbmcodmFsdWUpIHx8IGlzTnVtYmVyKHZhbHVlKSB8fCBpc0Jvb2xlYW4odmFsdWUpKVxuICAgICAgKSB7XG4gICAgICAgIGxpc3QucHVzaCh0b1N0cmluZyh2YWx1ZSkpO1xuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBhcnIgPSB0cnVlO1xuICAgICAgICAvLyBTZWFyY2ggZWFjaCBpdGVtIGluIHRoZSBhcnJheS5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgZGVlcEdldCh2YWx1ZVtpXSwgcGF0aCwgaW5kZXggKyAxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXRoLmxlbmd0aCkge1xuICAgICAgICAvLyBBbiBvYmplY3QuIFJlY3Vyc2UgZnVydGhlci5cbiAgICAgICAgZGVlcEdldCh2YWx1ZSwgcGF0aCwgaW5kZXggKyAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgKHNpbmNlIHBhdGggdXNlZCB0byBiZSBhIHN0cmluZylcbiAgZGVlcEdldChvYmosIGlzU3RyaW5nKHBhdGgpID8gcGF0aC5zcGxpdCgnLicpIDogcGF0aCwgMCk7XG5cbiAgcmV0dXJuIGFyciA/IGxpc3QgOiBsaXN0WzBdXG59XG5cbmNvbnN0IE1hdGNoT3B0aW9ucyA9IHtcbiAgLy8gV2hldGhlciB0aGUgbWF0Y2hlcyBzaG91bGQgYmUgaW5jbHVkZWQgaW4gdGhlIHJlc3VsdCBzZXQuIFdoZW4gYHRydWVgLCBlYWNoIHJlY29yZCBpbiB0aGUgcmVzdWx0XG4gIC8vIHNldCB3aWxsIGluY2x1ZGUgdGhlIGluZGljZXMgb2YgdGhlIG1hdGNoZWQgY2hhcmFjdGVycy5cbiAgLy8gVGhlc2UgY2FuIGNvbnNlcXVlbnRseSBiZSB1c2VkIGZvciBoaWdobGlnaHRpbmcgcHVycG9zZXMuXG4gIGluY2x1ZGVNYXRjaGVzOiBmYWxzZSxcbiAgLy8gV2hlbiBgdHJ1ZWAsIHRoZSBtYXRjaGluZyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIHRvIHRoZSBlbmQgb2YgYSBzZWFyY2ggcGF0dGVybiBldmVuIGlmXG4gIC8vIGEgcGVyZmVjdCBtYXRjaCBoYXMgYWxyZWFkeSBiZWVuIGxvY2F0ZWQgaW4gdGhlIHN0cmluZy5cbiAgZmluZEFsbE1hdGNoZXM6IGZhbHNlLFxuICAvLyBNaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRoYXQgbXVzdCBiZSBtYXRjaGVkIGJlZm9yZSBhIHJlc3VsdCBpcyBjb25zaWRlcmVkIGEgbWF0Y2hcbiAgbWluTWF0Y2hDaGFyTGVuZ3RoOiAxXG59O1xuXG5jb25zdCBCYXNpY09wdGlvbnMgPSB7XG4gIC8vIFdoZW4gYHRydWVgLCB0aGUgYWxnb3JpdGhtIGNvbnRpbnVlcyBzZWFyY2hpbmcgdG8gdGhlIGVuZCBvZiB0aGUgaW5wdXQgZXZlbiBpZiBhIHBlcmZlY3RcbiAgLy8gbWF0Y2ggaXMgZm91bmQgYmVmb3JlIHRoZSBlbmQgb2YgdGhlIHNhbWUgaW5wdXQuXG4gIGlzQ2FzZVNlbnNpdGl2ZTogZmFsc2UsXG4gIC8vIFdoZW4gdHJ1ZSwgdGhlIG1hdGNoaW5nIGZ1bmN0aW9uIHdpbGwgY29udGludWUgdG8gdGhlIGVuZCBvZiBhIHNlYXJjaCBwYXR0ZXJuIGV2ZW4gaWZcbiAgaW5jbHVkZVNjb3JlOiBmYWxzZSxcbiAgLy8gTGlzdCBvZiBwcm9wZXJ0aWVzIHRoYXQgd2lsbCBiZSBzZWFyY2hlZC4gVGhpcyBhbHNvIHN1cHBvcnRzIG5lc3RlZCBwcm9wZXJ0aWVzLlxuICBrZXlzOiBbXSxcbiAgLy8gV2hldGhlciB0byBzb3J0IHRoZSByZXN1bHQgbGlzdCwgYnkgc2NvcmVcbiAgc2hvdWxkU29ydDogdHJ1ZSxcbiAgLy8gRGVmYXVsdCBzb3J0IGZ1bmN0aW9uOiBzb3J0IGJ5IGFzY2VuZGluZyBzY29yZSwgYXNjZW5kaW5nIGluZGV4XG4gIHNvcnRGbjogKGEsIGIpID0+XG4gICAgYS5zY29yZSA9PT0gYi5zY29yZSA/IChhLmlkeCA8IGIuaWR4ID8gLTEgOiAxKSA6IGEuc2NvcmUgPCBiLnNjb3JlID8gLTEgOiAxXG59O1xuXG5jb25zdCBGdXp6eU9wdGlvbnMgPSB7XG4gIC8vIEFwcHJveGltYXRlbHkgd2hlcmUgaW4gdGhlIHRleHQgaXMgdGhlIHBhdHRlcm4gZXhwZWN0ZWQgdG8gYmUgZm91bmQ/XG4gIGxvY2F0aW9uOiAwLFxuICAvLyBBdCB3aGF0IHBvaW50IGRvZXMgdGhlIG1hdGNoIGFsZ29yaXRobSBnaXZlIHVwLiBBIHRocmVzaG9sZCBvZiAnMC4wJyByZXF1aXJlcyBhIHBlcmZlY3QgbWF0Y2hcbiAgLy8gKG9mIGJvdGggbGV0dGVycyBhbmQgbG9jYXRpb24pLCBhIHRocmVzaG9sZCBvZiAnMS4wJyB3b3VsZCBtYXRjaCBhbnl0aGluZy5cbiAgdGhyZXNob2xkOiAwLjYsXG4gIC8vIERldGVybWluZXMgaG93IGNsb3NlIHRoZSBtYXRjaCBtdXN0IGJlIHRvIHRoZSBmdXp6eSBsb2NhdGlvbiAoc3BlY2lmaWVkIGFib3ZlKS5cbiAgLy8gQW4gZXhhY3QgbGV0dGVyIG1hdGNoIHdoaWNoIGlzICdkaXN0YW5jZScgY2hhcmFjdGVycyBhd2F5IGZyb20gdGhlIGZ1enp5IGxvY2F0aW9uXG4gIC8vIHdvdWxkIHNjb3JlIGFzIGEgY29tcGxldGUgbWlzbWF0Y2guIEEgZGlzdGFuY2Ugb2YgJzAnIHJlcXVpcmVzIHRoZSBtYXRjaCBiZSBhdFxuICAvLyB0aGUgZXhhY3QgbG9jYXRpb24gc3BlY2lmaWVkLCBhIHRocmVzaG9sZCBvZiAnMTAwMCcgd291bGQgcmVxdWlyZSBhIHBlcmZlY3QgbWF0Y2hcbiAgLy8gdG8gYmUgd2l0aGluIDgwMCBjaGFyYWN0ZXJzIG9mIHRoZSBmdXp6eSBsb2NhdGlvbiB0byBiZSBmb3VuZCB1c2luZyBhIDAuOCB0aHJlc2hvbGQuXG4gIGRpc3RhbmNlOiAxMDBcbn07XG5cbmNvbnN0IEFkdmFuY2VkT3B0aW9ucyA9IHtcbiAgLy8gV2hlbiBgdHJ1ZWAsIGl0IGVuYWJsZXMgdGhlIHVzZSBvZiB1bml4LWxpa2Ugc2VhcmNoIGNvbW1hbmRzXG4gIHVzZUV4dGVuZGVkU2VhcmNoOiBmYWxzZSxcbiAgLy8gVGhlIGdldCBmdW5jdGlvbiB0byB1c2Ugd2hlbiBmZXRjaGluZyBhbiBvYmplY3QncyBwcm9wZXJ0aWVzLlxuICAvLyBUaGUgZGVmYXVsdCB3aWxsIHNlYXJjaCBuZXN0ZWQgcGF0aHMgKmllIGZvby5iYXIuYmF6KlxuICBnZXRGbjogZ2V0LFxuICAvLyBXaGVuIGB0cnVlYCwgc2VhcmNoIHdpbGwgaWdub3JlIGBsb2NhdGlvbmAgYW5kIGBkaXN0YW5jZWAsIHNvIGl0IHdvbid0IG1hdHRlclxuICAvLyB3aGVyZSBpbiB0aGUgc3RyaW5nIHRoZSBwYXR0ZXJuIGFwcGVhcnMuXG4gIC8vIE1vcmUgaW5mbzogaHR0cHM6Ly9mdXNlanMuaW8vY29uY2VwdHMvc2NvcmluZy10aGVvcnkuaHRtbCNmdXp6aW5lc3Mtc2NvcmVcbiAgaWdub3JlTG9jYXRpb246IGZhbHNlLFxuICAvLyBXaGVuIGB0cnVlYCwgdGhlIGNhbGN1bGF0aW9uIGZvciB0aGUgcmVsZXZhbmNlIHNjb3JlICh1c2VkIGZvciBzb3J0aW5nKSB3aWxsXG4gIC8vIGlnbm9yZSB0aGUgZmllbGQtbGVuZ3RoIG5vcm0uXG4gIC8vIE1vcmUgaW5mbzogaHR0cHM6Ly9mdXNlanMuaW8vY29uY2VwdHMvc2NvcmluZy10aGVvcnkuaHRtbCNmaWVsZC1sZW5ndGgtbm9ybVxuICBpZ25vcmVGaWVsZE5vcm06IGZhbHNlLFxuICAvLyBUaGUgd2VpZ2h0IHRvIGRldGVybWluZSBob3cgbXVjaCBmaWVsZCBsZW5ndGggbm9ybSBlZmZlY3RzIHNjb3JpbmcuXG4gIGZpZWxkTm9ybVdlaWdodDogMVxufTtcblxudmFyIENvbmZpZyA9IHtcbiAgLi4uQmFzaWNPcHRpb25zLFxuICAuLi5NYXRjaE9wdGlvbnMsXG4gIC4uLkZ1enp5T3B0aW9ucyxcbiAgLi4uQWR2YW5jZWRPcHRpb25zXG59O1xuXG5jb25zdCBTUEFDRSA9IC9bXiBdKy9nO1xuXG4vLyBGaWVsZC1sZW5ndGggbm9ybTogdGhlIHNob3J0ZXIgdGhlIGZpZWxkLCB0aGUgaGlnaGVyIHRoZSB3ZWlnaHQuXG4vLyBTZXQgdG8gMyBkZWNpbWFscyB0byByZWR1Y2UgaW5kZXggc2l6ZS5cbmZ1bmN0aW9uIG5vcm0od2VpZ2h0ID0gMSwgbWFudGlzc2EgPSAzKSB7XG4gIGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xuICBjb25zdCBtID0gTWF0aC5wb3coMTAsIG1hbnRpc3NhKTtcblxuICByZXR1cm4ge1xuICAgIGdldCh2YWx1ZSkge1xuICAgICAgY29uc3QgbnVtVG9rZW5zID0gdmFsdWUubWF0Y2goU1BBQ0UpLmxlbmd0aDtcblxuICAgICAgaWYgKGNhY2hlLmhhcyhudW1Ub2tlbnMpKSB7XG4gICAgICAgIHJldHVybiBjYWNoZS5nZXQobnVtVG9rZW5zKVxuICAgICAgfVxuXG4gICAgICAvLyBEZWZhdWx0IGZ1bmN0aW9uIGlzIDEvc3FydCh4KSwgd2VpZ2h0IG1ha2VzIHRoYXQgdmFyaWFibGVcbiAgICAgIGNvbnN0IG5vcm0gPSAxIC8gTWF0aC5wb3cobnVtVG9rZW5zLCAwLjUgKiB3ZWlnaHQpO1xuXG4gICAgICAvLyBJbiBwbGFjZSBvZiBgdG9GaXhlZChtYW50aXNzYSlgLCBmb3IgZmFzdGVyIGNvbXB1dGF0aW9uXG4gICAgICBjb25zdCBuID0gcGFyc2VGbG9hdChNYXRoLnJvdW5kKG5vcm0gKiBtKSAvIG0pO1xuXG4gICAgICBjYWNoZS5zZXQobnVtVG9rZW5zLCBuKTtcblxuICAgICAgcmV0dXJuIG5cbiAgICB9LFxuICAgIGNsZWFyKCkge1xuICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgRnVzZUluZGV4IHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGdldEZuID0gQ29uZmlnLmdldEZuLFxuICAgIGZpZWxkTm9ybVdlaWdodCA9IENvbmZpZy5maWVsZE5vcm1XZWlnaHRcbiAgfSA9IHt9KSB7XG4gICAgdGhpcy5ub3JtID0gbm9ybShmaWVsZE5vcm1XZWlnaHQsIDMpO1xuICAgIHRoaXMuZ2V0Rm4gPSBnZXRGbjtcbiAgICB0aGlzLmlzQ3JlYXRlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5zZXRJbmRleFJlY29yZHMoKTtcbiAgfVxuICBzZXRTb3VyY2VzKGRvY3MgPSBbXSkge1xuICAgIHRoaXMuZG9jcyA9IGRvY3M7XG4gIH1cbiAgc2V0SW5kZXhSZWNvcmRzKHJlY29yZHMgPSBbXSkge1xuICAgIHRoaXMucmVjb3JkcyA9IHJlY29yZHM7XG4gIH1cbiAgc2V0S2V5cyhrZXlzID0gW10pIHtcbiAgICB0aGlzLmtleXMgPSBrZXlzO1xuICAgIHRoaXMuX2tleXNNYXAgPSB7fTtcbiAgICBrZXlzLmZvckVhY2goKGtleSwgaWR4KSA9PiB7XG4gICAgICB0aGlzLl9rZXlzTWFwW2tleS5pZF0gPSBpZHg7XG4gICAgfSk7XG4gIH1cbiAgY3JlYXRlKCkge1xuICAgIGlmICh0aGlzLmlzQ3JlYXRlZCB8fCAhdGhpcy5kb2NzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5pc0NyZWF0ZWQgPSB0cnVlO1xuXG4gICAgLy8gTGlzdCBpcyBBcnJheTxTdHJpbmc+XG4gICAgaWYgKGlzU3RyaW5nKHRoaXMuZG9jc1swXSkpIHtcbiAgICAgIHRoaXMuZG9jcy5mb3JFYWNoKChkb2MsIGRvY0luZGV4KSA9PiB7XG4gICAgICAgIHRoaXMuX2FkZFN0cmluZyhkb2MsIGRvY0luZGV4KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXN0IGlzIEFycmF5PE9iamVjdD5cbiAgICAgIHRoaXMuZG9jcy5mb3JFYWNoKChkb2MsIGRvY0luZGV4KSA9PiB7XG4gICAgICAgIHRoaXMuX2FkZE9iamVjdChkb2MsIGRvY0luZGV4KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMubm9ybS5jbGVhcigpO1xuICB9XG4gIC8vIEFkZHMgYSBkb2MgdG8gdGhlIGVuZCBvZiB0aGUgaW5kZXhcbiAgYWRkKGRvYykge1xuICAgIGNvbnN0IGlkeCA9IHRoaXMuc2l6ZSgpO1xuXG4gICAgaWYgKGlzU3RyaW5nKGRvYykpIHtcbiAgICAgIHRoaXMuX2FkZFN0cmluZyhkb2MsIGlkeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2FkZE9iamVjdChkb2MsIGlkeCk7XG4gICAgfVxuICB9XG4gIC8vIFJlbW92ZXMgdGhlIGRvYyBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9mIHRoZSBpbmRleFxuICByZW1vdmVBdChpZHgpIHtcbiAgICB0aGlzLnJlY29yZHMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICAvLyBDaGFuZ2UgcmVmIGluZGV4IG9mIGV2ZXJ5IHN1YnNxdWVudCBkb2NcbiAgICBmb3IgKGxldCBpID0gaWR4LCBsZW4gPSB0aGlzLnNpemUoKTsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICB0aGlzLnJlY29yZHNbaV0uaSAtPSAxO1xuICAgIH1cbiAgfVxuICBnZXRWYWx1ZUZvckl0ZW1BdEtleUlkKGl0ZW0sIGtleUlkKSB7XG4gICAgcmV0dXJuIGl0ZW1bdGhpcy5fa2V5c01hcFtrZXlJZF1dXG4gIH1cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWNvcmRzLmxlbmd0aFxuICB9XG4gIF9hZGRTdHJpbmcoZG9jLCBkb2NJbmRleCkge1xuICAgIGlmICghaXNEZWZpbmVkKGRvYykgfHwgaXNCbGFuayhkb2MpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgcmVjb3JkID0ge1xuICAgICAgdjogZG9jLFxuICAgICAgaTogZG9jSW5kZXgsXG4gICAgICBuOiB0aGlzLm5vcm0uZ2V0KGRvYylcbiAgICB9O1xuXG4gICAgdGhpcy5yZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgfVxuICBfYWRkT2JqZWN0KGRvYywgZG9jSW5kZXgpIHtcbiAgICBsZXQgcmVjb3JkID0geyBpOiBkb2NJbmRleCwgJDoge30gfTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciBldmVyeSBrZXkgKGkuZSwgcGF0aCksIGFuZCBmZXRjaCB0aGUgdmFsdWUgYXQgdGhhdCBrZXlcbiAgICB0aGlzLmtleXMuZm9yRWFjaCgoa2V5LCBrZXlJbmRleCkgPT4ge1xuICAgICAgbGV0IHZhbHVlID0ga2V5LmdldEZuID8ga2V5LmdldEZuKGRvYykgOiB0aGlzLmdldEZuKGRvYywga2V5LnBhdGgpO1xuXG4gICAgICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBsZXQgc3ViUmVjb3JkcyA9IFtdO1xuICAgICAgICBjb25zdCBzdGFjayA9IFt7IG5lc3RlZEFyckluZGV4OiAtMSwgdmFsdWUgfV07XG5cbiAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IHsgbmVzdGVkQXJySW5kZXgsIHZhbHVlIH0gPSBzdGFjay5wb3AoKTtcblxuICAgICAgICAgIGlmICghaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNTdHJpbmcodmFsdWUpICYmICFpc0JsYW5rKHZhbHVlKSkge1xuICAgICAgICAgICAgbGV0IHN1YlJlY29yZCA9IHtcbiAgICAgICAgICAgICAgdjogdmFsdWUsXG4gICAgICAgICAgICAgIGk6IG5lc3RlZEFyckluZGV4LFxuICAgICAgICAgICAgICBuOiB0aGlzLm5vcm0uZ2V0KHZhbHVlKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc3ViUmVjb3Jkcy5wdXNoKHN1YlJlY29yZCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaCgoaXRlbSwgaykgPT4ge1xuICAgICAgICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAgICBuZXN0ZWRBcnJJbmRleDogayxcbiAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSA7XG4gICAgICAgIH1cbiAgICAgICAgcmVjb3JkLiRba2V5SW5kZXhdID0gc3ViUmVjb3JkcztcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpICYmICFpc0JsYW5rKHZhbHVlKSkge1xuICAgICAgICBsZXQgc3ViUmVjb3JkID0ge1xuICAgICAgICAgIHY6IHZhbHVlLFxuICAgICAgICAgIG46IHRoaXMubm9ybS5nZXQodmFsdWUpXG4gICAgICAgIH07XG5cbiAgICAgICAgcmVjb3JkLiRba2V5SW5kZXhdID0gc3ViUmVjb3JkO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5yZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleXM6IHRoaXMua2V5cyxcbiAgICAgIHJlY29yZHM6IHRoaXMucmVjb3Jkc1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVJbmRleChcbiAga2V5cyxcbiAgZG9jcyxcbiAgeyBnZXRGbiA9IENvbmZpZy5nZXRGbiwgZmllbGROb3JtV2VpZ2h0ID0gQ29uZmlnLmZpZWxkTm9ybVdlaWdodCB9ID0ge31cbikge1xuICBjb25zdCBteUluZGV4ID0gbmV3IEZ1c2VJbmRleCh7IGdldEZuLCBmaWVsZE5vcm1XZWlnaHQgfSk7XG4gIG15SW5kZXguc2V0S2V5cyhrZXlzLm1hcChjcmVhdGVLZXkpKTtcbiAgbXlJbmRleC5zZXRTb3VyY2VzKGRvY3MpO1xuICBteUluZGV4LmNyZWF0ZSgpO1xuICByZXR1cm4gbXlJbmRleFxufVxuXG5mdW5jdGlvbiBwYXJzZUluZGV4KFxuICBkYXRhLFxuICB7IGdldEZuID0gQ29uZmlnLmdldEZuLCBmaWVsZE5vcm1XZWlnaHQgPSBDb25maWcuZmllbGROb3JtV2VpZ2h0IH0gPSB7fVxuKSB7XG4gIGNvbnN0IHsga2V5cywgcmVjb3JkcyB9ID0gZGF0YTtcbiAgY29uc3QgbXlJbmRleCA9IG5ldyBGdXNlSW5kZXgoeyBnZXRGbiwgZmllbGROb3JtV2VpZ2h0IH0pO1xuICBteUluZGV4LnNldEtleXMoa2V5cyk7XG4gIG15SW5kZXguc2V0SW5kZXhSZWNvcmRzKHJlY29yZHMpO1xuICByZXR1cm4gbXlJbmRleFxufVxuXG5mdW5jdGlvbiBjb21wdXRlU2NvcmUkMShcbiAgcGF0dGVybixcbiAge1xuICAgIGVycm9ycyA9IDAsXG4gICAgY3VycmVudExvY2F0aW9uID0gMCxcbiAgICBleHBlY3RlZExvY2F0aW9uID0gMCxcbiAgICBkaXN0YW5jZSA9IENvbmZpZy5kaXN0YW5jZSxcbiAgICBpZ25vcmVMb2NhdGlvbiA9IENvbmZpZy5pZ25vcmVMb2NhdGlvblxuICB9ID0ge31cbikge1xuICBjb25zdCBhY2N1cmFjeSA9IGVycm9ycyAvIHBhdHRlcm4ubGVuZ3RoO1xuXG4gIGlmIChpZ25vcmVMb2NhdGlvbikge1xuICAgIHJldHVybiBhY2N1cmFjeVxuICB9XG5cbiAgY29uc3QgcHJveGltaXR5ID0gTWF0aC5hYnMoZXhwZWN0ZWRMb2NhdGlvbiAtIGN1cnJlbnRMb2NhdGlvbik7XG5cbiAgaWYgKCFkaXN0YW5jZSkge1xuICAgIC8vIERvZGdlIGRpdmlkZSBieSB6ZXJvIGVycm9yLlxuICAgIHJldHVybiBwcm94aW1pdHkgPyAxLjAgOiBhY2N1cmFjeVxuICB9XG5cbiAgcmV0dXJuIGFjY3VyYWN5ICsgcHJveGltaXR5IC8gZGlzdGFuY2Vcbn1cblxuZnVuY3Rpb24gY29udmVydE1hc2tUb0luZGljZXMoXG4gIG1hdGNobWFzayA9IFtdLFxuICBtaW5NYXRjaENoYXJMZW5ndGggPSBDb25maWcubWluTWF0Y2hDaGFyTGVuZ3RoXG4pIHtcbiAgbGV0IGluZGljZXMgPSBbXTtcbiAgbGV0IHN0YXJ0ID0gLTE7XG4gIGxldCBlbmQgPSAtMTtcbiAgbGV0IGkgPSAwO1xuXG4gIGZvciAobGV0IGxlbiA9IG1hdGNobWFzay5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIGxldCBtYXRjaCA9IG1hdGNobWFza1tpXTtcbiAgICBpZiAobWF0Y2ggJiYgc3RhcnQgPT09IC0xKSB7XG4gICAgICBzdGFydCA9IGk7XG4gICAgfSBlbHNlIGlmICghbWF0Y2ggJiYgc3RhcnQgIT09IC0xKSB7XG4gICAgICBlbmQgPSBpIC0gMTtcbiAgICAgIGlmIChlbmQgLSBzdGFydCArIDEgPj0gbWluTWF0Y2hDaGFyTGVuZ3RoKSB7XG4gICAgICAgIGluZGljZXMucHVzaChbc3RhcnQsIGVuZF0pO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSAtMTtcbiAgICB9XG4gIH1cblxuICAvLyAoaS0xIC0gc3RhcnQpICsgMSA9PiBpIC0gc3RhcnRcbiAgaWYgKG1hdGNobWFza1tpIC0gMV0gJiYgaSAtIHN0YXJ0ID49IG1pbk1hdGNoQ2hhckxlbmd0aCkge1xuICAgIGluZGljZXMucHVzaChbc3RhcnQsIGkgLSAxXSk7XG4gIH1cblxuICByZXR1cm4gaW5kaWNlc1xufVxuXG4vLyBNYWNoaW5lIHdvcmQgc2l6ZVxuY29uc3QgTUFYX0JJVFMgPSAzMjtcblxuZnVuY3Rpb24gc2VhcmNoKFxuICB0ZXh0LFxuICBwYXR0ZXJuLFxuICBwYXR0ZXJuQWxwaGFiZXQsXG4gIHtcbiAgICBsb2NhdGlvbiA9IENvbmZpZy5sb2NhdGlvbixcbiAgICBkaXN0YW5jZSA9IENvbmZpZy5kaXN0YW5jZSxcbiAgICB0aHJlc2hvbGQgPSBDb25maWcudGhyZXNob2xkLFxuICAgIGZpbmRBbGxNYXRjaGVzID0gQ29uZmlnLmZpbmRBbGxNYXRjaGVzLFxuICAgIG1pbk1hdGNoQ2hhckxlbmd0aCA9IENvbmZpZy5taW5NYXRjaENoYXJMZW5ndGgsXG4gICAgaW5jbHVkZU1hdGNoZXMgPSBDb25maWcuaW5jbHVkZU1hdGNoZXMsXG4gICAgaWdub3JlTG9jYXRpb24gPSBDb25maWcuaWdub3JlTG9jYXRpb25cbiAgfSA9IHt9XG4pIHtcbiAgaWYgKHBhdHRlcm4ubGVuZ3RoID4gTUFYX0JJVFMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoUEFUVEVSTl9MRU5HVEhfVE9PX0xBUkdFKE1BWF9CSVRTKSlcbiAgfVxuXG4gIGNvbnN0IHBhdHRlcm5MZW4gPSBwYXR0ZXJuLmxlbmd0aDtcbiAgLy8gU2V0IHN0YXJ0aW5nIGxvY2F0aW9uIGF0IGJlZ2lubmluZyB0ZXh0IGFuZCBpbml0aWFsaXplIHRoZSBhbHBoYWJldC5cbiAgY29uc3QgdGV4dExlbiA9IHRleHQubGVuZ3RoO1xuICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlbiBsb2NhdGlvbiA+IHRleHQubGVuZ3RoXG4gIGNvbnN0IGV4cGVjdGVkTG9jYXRpb24gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihsb2NhdGlvbiwgdGV4dExlbikpO1xuICAvLyBIaWdoZXN0IHNjb3JlIGJleW9uZCB3aGljaCB3ZSBnaXZlIHVwLlxuICBsZXQgY3VycmVudFRocmVzaG9sZCA9IHRocmVzaG9sZDtcbiAgLy8gSXMgdGhlcmUgYSBuZWFyYnkgZXhhY3QgbWF0Y2g/IChzcGVlZHVwKVxuICBsZXQgYmVzdExvY2F0aW9uID0gZXhwZWN0ZWRMb2NhdGlvbjtcblxuICAvLyBQZXJmb3JtYW5jZTogb25seSBjb21wdXRlciBtYXRjaGVzIHdoZW4gdGhlIG1pbk1hdGNoQ2hhckxlbmd0aCA+IDFcbiAgLy8gT1IgaWYgYGluY2x1ZGVNYXRjaGVzYCBpcyB0cnVlLlxuICBjb25zdCBjb21wdXRlTWF0Y2hlcyA9IG1pbk1hdGNoQ2hhckxlbmd0aCA+IDEgfHwgaW5jbHVkZU1hdGNoZXM7XG4gIC8vIEEgbWFzayBvZiB0aGUgbWF0Y2hlcywgdXNlZCBmb3IgYnVpbGRpbmcgdGhlIGluZGljZXNcbiAgY29uc3QgbWF0Y2hNYXNrID0gY29tcHV0ZU1hdGNoZXMgPyBBcnJheSh0ZXh0TGVuKSA6IFtdO1xuXG4gIGxldCBpbmRleDtcblxuICAvLyBHZXQgYWxsIGV4YWN0IG1hdGNoZXMsIGhlcmUgZm9yIHNwZWVkIHVwXG4gIHdoaWxlICgoaW5kZXggPSB0ZXh0LmluZGV4T2YocGF0dGVybiwgYmVzdExvY2F0aW9uKSkgPiAtMSkge1xuICAgIGxldCBzY29yZSA9IGNvbXB1dGVTY29yZSQxKHBhdHRlcm4sIHtcbiAgICAgIGN1cnJlbnRMb2NhdGlvbjogaW5kZXgsXG4gICAgICBleHBlY3RlZExvY2F0aW9uLFxuICAgICAgZGlzdGFuY2UsXG4gICAgICBpZ25vcmVMb2NhdGlvblxuICAgIH0pO1xuXG4gICAgY3VycmVudFRocmVzaG9sZCA9IE1hdGgubWluKHNjb3JlLCBjdXJyZW50VGhyZXNob2xkKTtcbiAgICBiZXN0TG9jYXRpb24gPSBpbmRleCArIHBhdHRlcm5MZW47XG5cbiAgICBpZiAoY29tcHV0ZU1hdGNoZXMpIHtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgcGF0dGVybkxlbikge1xuICAgICAgICBtYXRjaE1hc2tbaW5kZXggKyBpXSA9IDE7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBSZXNldCB0aGUgYmVzdCBsb2NhdGlvblxuICBiZXN0TG9jYXRpb24gPSAtMTtcblxuICBsZXQgbGFzdEJpdEFyciA9IFtdO1xuICBsZXQgZmluYWxTY29yZSA9IDE7XG4gIGxldCBiaW5NYXggPSBwYXR0ZXJuTGVuICsgdGV4dExlbjtcblxuICBjb25zdCBtYXNrID0gMSA8PCAocGF0dGVybkxlbiAtIDEpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0dGVybkxlbjsgaSArPSAxKSB7XG4gICAgLy8gU2NhbiBmb3IgdGhlIGJlc3QgbWF0Y2g7IGVhY2ggaXRlcmF0aW9uIGFsbG93cyBmb3Igb25lIG1vcmUgZXJyb3IuXG4gICAgLy8gUnVuIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgaG93IGZhciBmcm9tIHRoZSBtYXRjaCBsb2NhdGlvbiB3ZSBjYW4gc3RyYXlcbiAgICAvLyBhdCB0aGlzIGVycm9yIGxldmVsLlxuICAgIGxldCBiaW5NaW4gPSAwO1xuICAgIGxldCBiaW5NaWQgPSBiaW5NYXg7XG5cbiAgICB3aGlsZSAoYmluTWluIDwgYmluTWlkKSB7XG4gICAgICBjb25zdCBzY29yZSA9IGNvbXB1dGVTY29yZSQxKHBhdHRlcm4sIHtcbiAgICAgICAgZXJyb3JzOiBpLFxuICAgICAgICBjdXJyZW50TG9jYXRpb246IGV4cGVjdGVkTG9jYXRpb24gKyBiaW5NaWQsXG4gICAgICAgIGV4cGVjdGVkTG9jYXRpb24sXG4gICAgICAgIGRpc3RhbmNlLFxuICAgICAgICBpZ25vcmVMb2NhdGlvblxuICAgICAgfSk7XG5cbiAgICAgIGlmIChzY29yZSA8PSBjdXJyZW50VGhyZXNob2xkKSB7XG4gICAgICAgIGJpbk1pbiA9IGJpbk1pZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJpbk1heCA9IGJpbk1pZDtcbiAgICAgIH1cblxuICAgICAgYmluTWlkID0gTWF0aC5mbG9vcigoYmluTWF4IC0gYmluTWluKSAvIDIgKyBiaW5NaW4pO1xuICAgIH1cblxuICAgIC8vIFVzZSB0aGUgcmVzdWx0IGZyb20gdGhpcyBpdGVyYXRpb24gYXMgdGhlIG1heGltdW0gZm9yIHRoZSBuZXh0LlxuICAgIGJpbk1heCA9IGJpbk1pZDtcblxuICAgIGxldCBzdGFydCA9IE1hdGgubWF4KDEsIGV4cGVjdGVkTG9jYXRpb24gLSBiaW5NaWQgKyAxKTtcbiAgICBsZXQgZmluaXNoID0gZmluZEFsbE1hdGNoZXNcbiAgICAgID8gdGV4dExlblxuICAgICAgOiBNYXRoLm1pbihleHBlY3RlZExvY2F0aW9uICsgYmluTWlkLCB0ZXh0TGVuKSArIHBhdHRlcm5MZW47XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBiaXQgYXJyYXlcbiAgICBsZXQgYml0QXJyID0gQXJyYXkoZmluaXNoICsgMik7XG5cbiAgICBiaXRBcnJbZmluaXNoICsgMV0gPSAoMSA8PCBpKSAtIDE7XG5cbiAgICBmb3IgKGxldCBqID0gZmluaXNoOyBqID49IHN0YXJ0OyBqIC09IDEpIHtcbiAgICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSBqIC0gMTtcbiAgICAgIGxldCBjaGFyTWF0Y2ggPSBwYXR0ZXJuQWxwaGFiZXRbdGV4dC5jaGFyQXQoY3VycmVudExvY2F0aW9uKV07XG5cbiAgICAgIGlmIChjb21wdXRlTWF0Y2hlcykge1xuICAgICAgICAvLyBTcGVlZCB1cDogcXVpY2sgYm9vbCB0byBpbnQgY29udmVyc2lvbiAoaS5lLCBgY2hhck1hdGNoID8gMSA6IDBgKVxuICAgICAgICBtYXRjaE1hc2tbY3VycmVudExvY2F0aW9uXSA9ICshIWNoYXJNYXRjaDtcbiAgICAgIH1cblxuICAgICAgLy8gRmlyc3QgcGFzczogZXhhY3QgbWF0Y2hcbiAgICAgIGJpdEFycltqXSA9ICgoYml0QXJyW2ogKyAxXSA8PCAxKSB8IDEpICYgY2hhck1hdGNoO1xuXG4gICAgICAvLyBTdWJzZXF1ZW50IHBhc3NlczogZnV6enkgbWF0Y2hcbiAgICAgIGlmIChpKSB7XG4gICAgICAgIGJpdEFycltqXSB8PVxuICAgICAgICAgICgobGFzdEJpdEFycltqICsgMV0gfCBsYXN0Qml0QXJyW2pdKSA8PCAxKSB8IDEgfCBsYXN0Qml0QXJyW2ogKyAxXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGJpdEFycltqXSAmIG1hc2spIHtcbiAgICAgICAgZmluYWxTY29yZSA9IGNvbXB1dGVTY29yZSQxKHBhdHRlcm4sIHtcbiAgICAgICAgICBlcnJvcnM6IGksXG4gICAgICAgICAgY3VycmVudExvY2F0aW9uLFxuICAgICAgICAgIGV4cGVjdGVkTG9jYXRpb24sXG4gICAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgICAgaWdub3JlTG9jYXRpb25cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGhpcyBtYXRjaCB3aWxsIGFsbW9zdCBjZXJ0YWlubHkgYmUgYmV0dGVyIHRoYW4gYW55IGV4aXN0aW5nIG1hdGNoLlxuICAgICAgICAvLyBCdXQgY2hlY2sgYW55d2F5LlxuICAgICAgICBpZiAoZmluYWxTY29yZSA8PSBjdXJyZW50VGhyZXNob2xkKSB7XG4gICAgICAgICAgLy8gSW5kZWVkIGl0IGlzXG4gICAgICAgICAgY3VycmVudFRocmVzaG9sZCA9IGZpbmFsU2NvcmU7XG4gICAgICAgICAgYmVzdExvY2F0aW9uID0gY3VycmVudExvY2F0aW9uO1xuXG4gICAgICAgICAgLy8gQWxyZWFkeSBwYXNzZWQgYGxvY2AsIGRvd25oaWxsIGZyb20gaGVyZSBvbiBpbi5cbiAgICAgICAgICBpZiAoYmVzdExvY2F0aW9uIDw9IGV4cGVjdGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gV2hlbiBwYXNzaW5nIGBiZXN0TG9jYXRpb25gLCBkb24ndCBleGNlZWQgb3VyIGN1cnJlbnQgZGlzdGFuY2UgZnJvbSBgZXhwZWN0ZWRMb2NhdGlvbmAuXG4gICAgICAgICAgc3RhcnQgPSBNYXRoLm1heCgxLCAyICogZXhwZWN0ZWRMb2NhdGlvbiAtIGJlc3RMb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBObyBob3BlIGZvciBhIChiZXR0ZXIpIG1hdGNoIGF0IGdyZWF0ZXIgZXJyb3IgbGV2ZWxzLlxuICAgIGNvbnN0IHNjb3JlID0gY29tcHV0ZVNjb3JlJDEocGF0dGVybiwge1xuICAgICAgZXJyb3JzOiBpICsgMSxcbiAgICAgIGN1cnJlbnRMb2NhdGlvbjogZXhwZWN0ZWRMb2NhdGlvbixcbiAgICAgIGV4cGVjdGVkTG9jYXRpb24sXG4gICAgICBkaXN0YW5jZSxcbiAgICAgIGlnbm9yZUxvY2F0aW9uXG4gICAgfSk7XG5cbiAgICBpZiAoc2NvcmUgPiBjdXJyZW50VGhyZXNob2xkKSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICAgIGxhc3RCaXRBcnIgPSBiaXRBcnI7XG4gIH1cblxuICBjb25zdCByZXN1bHQgPSB7XG4gICAgaXNNYXRjaDogYmVzdExvY2F0aW9uID49IDAsXG4gICAgLy8gQ291bnQgZXhhY3QgbWF0Y2hlcyAodGhvc2Ugd2l0aCBhIHNjb3JlIG9mIDApIHRvIGJlIFwiYWxtb3N0XCIgZXhhY3RcbiAgICBzY29yZTogTWF0aC5tYXgoMC4wMDEsIGZpbmFsU2NvcmUpXG4gIH07XG5cbiAgaWYgKGNvbXB1dGVNYXRjaGVzKSB7XG4gICAgY29uc3QgaW5kaWNlcyA9IGNvbnZlcnRNYXNrVG9JbmRpY2VzKG1hdGNoTWFzaywgbWluTWF0Y2hDaGFyTGVuZ3RoKTtcbiAgICBpZiAoIWluZGljZXMubGVuZ3RoKSB7XG4gICAgICByZXN1bHQuaXNNYXRjaCA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoaW5jbHVkZU1hdGNoZXMpIHtcbiAgICAgIHJlc3VsdC5pbmRpY2VzID0gaW5kaWNlcztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhdHRlcm5BbHBoYWJldChwYXR0ZXJuKSB7XG4gIGxldCBtYXNrID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhdHRlcm4ubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICBjb25zdCBjaGFyID0gcGF0dGVybi5jaGFyQXQoaSk7XG4gICAgbWFza1tjaGFyXSA9IChtYXNrW2NoYXJdIHx8IDApIHwgKDEgPDwgKGxlbiAtIGkgLSAxKSk7XG4gIH1cblxuICByZXR1cm4gbWFza1xufVxuXG5jbGFzcyBCaXRhcFNlYXJjaCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHBhdHRlcm4sXG4gICAge1xuICAgICAgbG9jYXRpb24gPSBDb25maWcubG9jYXRpb24sXG4gICAgICB0aHJlc2hvbGQgPSBDb25maWcudGhyZXNob2xkLFxuICAgICAgZGlzdGFuY2UgPSBDb25maWcuZGlzdGFuY2UsXG4gICAgICBpbmNsdWRlTWF0Y2hlcyA9IENvbmZpZy5pbmNsdWRlTWF0Y2hlcyxcbiAgICAgIGZpbmRBbGxNYXRjaGVzID0gQ29uZmlnLmZpbmRBbGxNYXRjaGVzLFxuICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoID0gQ29uZmlnLm1pbk1hdGNoQ2hhckxlbmd0aCxcbiAgICAgIGlzQ2FzZVNlbnNpdGl2ZSA9IENvbmZpZy5pc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBpZ25vcmVMb2NhdGlvbiA9IENvbmZpZy5pZ25vcmVMb2NhdGlvblxuICAgIH0gPSB7fVxuICApIHtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBsb2NhdGlvbixcbiAgICAgIHRocmVzaG9sZCxcbiAgICAgIGRpc3RhbmNlLFxuICAgICAgaW5jbHVkZU1hdGNoZXMsXG4gICAgICBmaW5kQWxsTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCxcbiAgICAgIGlzQ2FzZVNlbnNpdGl2ZSxcbiAgICAgIGlnbm9yZUxvY2F0aW9uXG4gICAgfTtcblxuICAgIHRoaXMucGF0dGVybiA9IGlzQ2FzZVNlbnNpdGl2ZSA/IHBhdHRlcm4gOiBwYXR0ZXJuLnRvTG93ZXJDYXNlKCk7XG5cbiAgICB0aGlzLmNodW5rcyA9IFtdO1xuXG4gICAgaWYgKCF0aGlzLnBhdHRlcm4ubGVuZ3RoKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBhZGRDaHVuayA9IChwYXR0ZXJuLCBzdGFydEluZGV4KSA9PiB7XG4gICAgICB0aGlzLmNodW5rcy5wdXNoKHtcbiAgICAgICAgcGF0dGVybixcbiAgICAgICAgYWxwaGFiZXQ6IGNyZWF0ZVBhdHRlcm5BbHBoYWJldChwYXR0ZXJuKSxcbiAgICAgICAgc3RhcnRJbmRleFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGxlbiA9IHRoaXMucGF0dGVybi5sZW5ndGg7XG5cbiAgICBpZiAobGVuID4gTUFYX0JJVFMpIHtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIGNvbnN0IHJlbWFpbmRlciA9IGxlbiAlIE1BWF9CSVRTO1xuICAgICAgY29uc3QgZW5kID0gbGVuIC0gcmVtYWluZGVyO1xuXG4gICAgICB3aGlsZSAoaSA8IGVuZCkge1xuICAgICAgICBhZGRDaHVuayh0aGlzLnBhdHRlcm4uc3Vic3RyKGksIE1BWF9CSVRTKSwgaSk7XG4gICAgICAgIGkgKz0gTUFYX0JJVFM7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZW1haW5kZXIpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGxlbiAtIE1BWF9CSVRTO1xuICAgICAgICBhZGRDaHVuayh0aGlzLnBhdHRlcm4uc3Vic3RyKHN0YXJ0SW5kZXgpLCBzdGFydEluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYWRkQ2h1bmsodGhpcy5wYXR0ZXJuLCAwKTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2hJbih0ZXh0KSB7XG4gICAgY29uc3QgeyBpc0Nhc2VTZW5zaXRpdmUsIGluY2x1ZGVNYXRjaGVzIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICBpZiAoIWlzQ2FzZVNlbnNpdGl2ZSkge1xuICAgICAgdGV4dCA9IHRleHQudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvLyBFeGFjdCBtYXRjaFxuICAgIGlmICh0aGlzLnBhdHRlcm4gPT09IHRleHQpIHtcbiAgICAgIGxldCByZXN1bHQgPSB7XG4gICAgICAgIGlzTWF0Y2g6IHRydWUsXG4gICAgICAgIHNjb3JlOiAwXG4gICAgICB9O1xuXG4gICAgICBpZiAoaW5jbHVkZU1hdGNoZXMpIHtcbiAgICAgICAgcmVzdWx0LmluZGljZXMgPSBbWzAsIHRleHQubGVuZ3RoIC0gMV1dO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlLCB1c2UgQml0YXAgYWxnb3JpdGhtXG4gICAgY29uc3Qge1xuICAgICAgbG9jYXRpb24sXG4gICAgICBkaXN0YW5jZSxcbiAgICAgIHRocmVzaG9sZCxcbiAgICAgIGZpbmRBbGxNYXRjaGVzLFxuICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoLFxuICAgICAgaWdub3JlTG9jYXRpb25cbiAgICB9ID0gdGhpcy5vcHRpb25zO1xuXG4gICAgbGV0IGFsbEluZGljZXMgPSBbXTtcbiAgICBsZXQgdG90YWxTY29yZSA9IDA7XG4gICAgbGV0IGhhc01hdGNoZXMgPSBmYWxzZTtcblxuICAgIHRoaXMuY2h1bmtzLmZvckVhY2goKHsgcGF0dGVybiwgYWxwaGFiZXQsIHN0YXJ0SW5kZXggfSkgPT4ge1xuICAgICAgY29uc3QgeyBpc01hdGNoLCBzY29yZSwgaW5kaWNlcyB9ID0gc2VhcmNoKHRleHQsIHBhdHRlcm4sIGFscGhhYmV0LCB7XG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbiArIHN0YXJ0SW5kZXgsXG4gICAgICAgIGRpc3RhbmNlLFxuICAgICAgICB0aHJlc2hvbGQsXG4gICAgICAgIGZpbmRBbGxNYXRjaGVzLFxuICAgICAgICBtaW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICAgIGluY2x1ZGVNYXRjaGVzLFxuICAgICAgICBpZ25vcmVMb2NhdGlvblxuICAgICAgfSk7XG5cbiAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgIGhhc01hdGNoZXMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB0b3RhbFNjb3JlICs9IHNjb3JlO1xuXG4gICAgICBpZiAoaXNNYXRjaCAmJiBpbmRpY2VzKSB7XG4gICAgICAgIGFsbEluZGljZXMgPSBbLi4uYWxsSW5kaWNlcywgLi4uaW5kaWNlc107XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgaXNNYXRjaDogaGFzTWF0Y2hlcyxcbiAgICAgIHNjb3JlOiBoYXNNYXRjaGVzID8gdG90YWxTY29yZSAvIHRoaXMuY2h1bmtzLmxlbmd0aCA6IDFcbiAgICB9O1xuXG4gICAgaWYgKGhhc01hdGNoZXMgJiYgaW5jbHVkZU1hdGNoZXMpIHtcbiAgICAgIHJlc3VsdC5pbmRpY2VzID0gYWxsSW5kaWNlcztcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cblxuY2xhc3MgQmFzZU1hdGNoIHtcbiAgY29uc3RydWN0b3IocGF0dGVybikge1xuICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm47XG4gIH1cbiAgc3RhdGljIGlzTXVsdGlNYXRjaChwYXR0ZXJuKSB7XG4gICAgcmV0dXJuIGdldE1hdGNoKHBhdHRlcm4sIHRoaXMubXVsdGlSZWdleClcbiAgfVxuICBzdGF0aWMgaXNTaW5nbGVNYXRjaChwYXR0ZXJuKSB7XG4gICAgcmV0dXJuIGdldE1hdGNoKHBhdHRlcm4sIHRoaXMuc2luZ2xlUmVnZXgpXG4gIH1cbiAgc2VhcmNoKC8qdGV4dCovKSB7fVxufVxuXG5mdW5jdGlvbiBnZXRNYXRjaChwYXR0ZXJuLCBleHApIHtcbiAgY29uc3QgbWF0Y2hlcyA9IHBhdHRlcm4ubWF0Y2goZXhwKTtcbiAgcmV0dXJuIG1hdGNoZXMgPyBtYXRjaGVzWzFdIDogbnVsbFxufVxuXG4vLyBUb2tlbjogJ2ZpbGVcblxuY2xhc3MgRXhhY3RNYXRjaCBleHRlbmRzIEJhc2VNYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHBhdHRlcm4pIHtcbiAgICBzdXBlcihwYXR0ZXJuKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuICdleGFjdCdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9ePVwiKC4qKVwiJC9cbiAgfVxuICBzdGF0aWMgZ2V0IHNpbmdsZVJlZ2V4KCkge1xuICAgIHJldHVybiAvXj0oLiopJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIGNvbnN0IGlzTWF0Y2ggPSB0ZXh0ID09PSB0aGlzLnBhdHRlcm47XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNNYXRjaCxcbiAgICAgIHNjb3JlOiBpc01hdGNoID8gMCA6IDEsXG4gICAgICBpbmRpY2VzOiBbMCwgdGhpcy5wYXR0ZXJuLmxlbmd0aCAtIDFdXG4gICAgfVxuICB9XG59XG5cbi8vIFRva2VuOiAhZmlyZVxuXG5jbGFzcyBJbnZlcnNlRXhhY3RNYXRjaCBleHRlbmRzIEJhc2VNYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHBhdHRlcm4pIHtcbiAgICBzdXBlcihwYXR0ZXJuKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuICdpbnZlcnNlLWV4YWN0J1xuICB9XG4gIHN0YXRpYyBnZXQgbXVsdGlSZWdleCgpIHtcbiAgICByZXR1cm4gL14hXCIoLiopXCIkL1xuICB9XG4gIHN0YXRpYyBnZXQgc2luZ2xlUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eISguKikkL1xuICB9XG4gIHNlYXJjaCh0ZXh0KSB7XG4gICAgY29uc3QgaW5kZXggPSB0ZXh0LmluZGV4T2YodGhpcy5wYXR0ZXJuKTtcbiAgICBjb25zdCBpc01hdGNoID0gaW5kZXggPT09IC0xO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTWF0Y2gsXG4gICAgICBzY29yZTogaXNNYXRjaCA/IDAgOiAxLFxuICAgICAgaW5kaWNlczogWzAsIHRleHQubGVuZ3RoIC0gMV1cbiAgICB9XG4gIH1cbn1cblxuLy8gVG9rZW46IF5maWxlXG5cbmNsYXNzIFByZWZpeEV4YWN0TWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gIH1cbiAgc3RhdGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiAncHJlZml4LWV4YWN0J1xuICB9XG4gIHN0YXRpYyBnZXQgbXVsdGlSZWdleCgpIHtcbiAgICByZXR1cm4gL15cXF5cIiguKilcIiQvXG4gIH1cbiAgc3RhdGljIGdldCBzaW5nbGVSZWdleCgpIHtcbiAgICByZXR1cm4gL15cXF4oLiopJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIGNvbnN0IGlzTWF0Y2ggPSB0ZXh0LnN0YXJ0c1dpdGgodGhpcy5wYXR0ZXJuKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpc01hdGNoLFxuICAgICAgc2NvcmU6IGlzTWF0Y2ggPyAwIDogMSxcbiAgICAgIGluZGljZXM6IFswLCB0aGlzLnBhdHRlcm4ubGVuZ3RoIC0gMV1cbiAgICB9XG4gIH1cbn1cblxuLy8gVG9rZW46ICFeZmlyZVxuXG5jbGFzcyBJbnZlcnNlUHJlZml4RXhhY3RNYXRjaCBleHRlbmRzIEJhc2VNYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHBhdHRlcm4pIHtcbiAgICBzdXBlcihwYXR0ZXJuKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuICdpbnZlcnNlLXByZWZpeC1leGFjdCdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eIVxcXlwiKC4qKVwiJC9cbiAgfVxuICBzdGF0aWMgZ2V0IHNpbmdsZVJlZ2V4KCkge1xuICAgIHJldHVybiAvXiFcXF4oLiopJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIGNvbnN0IGlzTWF0Y2ggPSAhdGV4dC5zdGFydHNXaXRoKHRoaXMucGF0dGVybik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNNYXRjaCxcbiAgICAgIHNjb3JlOiBpc01hdGNoID8gMCA6IDEsXG4gICAgICBpbmRpY2VzOiBbMCwgdGV4dC5sZW5ndGggLSAxXVxuICAgIH1cbiAgfVxufVxuXG4vLyBUb2tlbjogLmZpbGUkXG5cbmNsYXNzIFN1ZmZpeEV4YWN0TWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gIH1cbiAgc3RhdGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiAnc3VmZml4LWV4YWN0J1xuICB9XG4gIHN0YXRpYyBnZXQgbXVsdGlSZWdleCgpIHtcbiAgICByZXR1cm4gL15cIiguKilcIlxcJCQvXG4gIH1cbiAgc3RhdGljIGdldCBzaW5nbGVSZWdleCgpIHtcbiAgICByZXR1cm4gL14oLiopXFwkJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIGNvbnN0IGlzTWF0Y2ggPSB0ZXh0LmVuZHNXaXRoKHRoaXMucGF0dGVybik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNNYXRjaCxcbiAgICAgIHNjb3JlOiBpc01hdGNoID8gMCA6IDEsXG4gICAgICBpbmRpY2VzOiBbdGV4dC5sZW5ndGggLSB0aGlzLnBhdHRlcm4ubGVuZ3RoLCB0ZXh0Lmxlbmd0aCAtIDFdXG4gICAgfVxuICB9XG59XG5cbi8vIFRva2VuOiAhLmZpbGUkXG5cbmNsYXNzIEludmVyc2VTdWZmaXhFeGFjdE1hdGNoIGV4dGVuZHMgQmFzZU1hdGNoIHtcbiAgY29uc3RydWN0b3IocGF0dGVybikge1xuICAgIHN1cGVyKHBhdHRlcm4pO1xuICB9XG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gJ2ludmVyc2Utc3VmZml4LWV4YWN0J1xuICB9XG4gIHN0YXRpYyBnZXQgbXVsdGlSZWdleCgpIHtcbiAgICByZXR1cm4gL14hXCIoLiopXCJcXCQkL1xuICB9XG4gIHN0YXRpYyBnZXQgc2luZ2xlUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eISguKilcXCQkL1xuICB9XG4gIHNlYXJjaCh0ZXh0KSB7XG4gICAgY29uc3QgaXNNYXRjaCA9ICF0ZXh0LmVuZHNXaXRoKHRoaXMucGF0dGVybik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTWF0Y2gsXG4gICAgICBzY29yZTogaXNNYXRjaCA/IDAgOiAxLFxuICAgICAgaW5kaWNlczogWzAsIHRleHQubGVuZ3RoIC0gMV1cbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgRnV6enlNYXRjaCBleHRlbmRzIEJhc2VNYXRjaCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHBhdHRlcm4sXG4gICAge1xuICAgICAgbG9jYXRpb24gPSBDb25maWcubG9jYXRpb24sXG4gICAgICB0aHJlc2hvbGQgPSBDb25maWcudGhyZXNob2xkLFxuICAgICAgZGlzdGFuY2UgPSBDb25maWcuZGlzdGFuY2UsXG4gICAgICBpbmNsdWRlTWF0Y2hlcyA9IENvbmZpZy5pbmNsdWRlTWF0Y2hlcyxcbiAgICAgIGZpbmRBbGxNYXRjaGVzID0gQ29uZmlnLmZpbmRBbGxNYXRjaGVzLFxuICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoID0gQ29uZmlnLm1pbk1hdGNoQ2hhckxlbmd0aCxcbiAgICAgIGlzQ2FzZVNlbnNpdGl2ZSA9IENvbmZpZy5pc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBpZ25vcmVMb2NhdGlvbiA9IENvbmZpZy5pZ25vcmVMb2NhdGlvblxuICAgIH0gPSB7fVxuICApIHtcbiAgICBzdXBlcihwYXR0ZXJuKTtcbiAgICB0aGlzLl9iaXRhcFNlYXJjaCA9IG5ldyBCaXRhcFNlYXJjaChwYXR0ZXJuLCB7XG4gICAgICBsb2NhdGlvbixcbiAgICAgIHRocmVzaG9sZCxcbiAgICAgIGRpc3RhbmNlLFxuICAgICAgaW5jbHVkZU1hdGNoZXMsXG4gICAgICBmaW5kQWxsTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCxcbiAgICAgIGlzQ2FzZVNlbnNpdGl2ZSxcbiAgICAgIGlnbm9yZUxvY2F0aW9uXG4gICAgfSk7XG4gIH1cbiAgc3RhdGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiAnZnV6enknXG4gIH1cbiAgc3RhdGljIGdldCBtdWx0aVJlZ2V4KCkge1xuICAgIHJldHVybiAvXlwiKC4qKVwiJC9cbiAgfVxuICBzdGF0aWMgZ2V0IHNpbmdsZVJlZ2V4KCkge1xuICAgIHJldHVybiAvXiguKikkL1xuICB9XG4gIHNlYXJjaCh0ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2JpdGFwU2VhcmNoLnNlYXJjaEluKHRleHQpXG4gIH1cbn1cblxuLy8gVG9rZW46ICdmaWxlXG5cbmNsYXNzIEluY2x1ZGVNYXRjaCBleHRlbmRzIEJhc2VNYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHBhdHRlcm4pIHtcbiAgICBzdXBlcihwYXR0ZXJuKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuICdpbmNsdWRlJ1xuICB9XG4gIHN0YXRpYyBnZXQgbXVsdGlSZWdleCgpIHtcbiAgICByZXR1cm4gL14nXCIoLiopXCIkL1xuICB9XG4gIHN0YXRpYyBnZXQgc2luZ2xlUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eJyguKikkL1xuICB9XG4gIHNlYXJjaCh0ZXh0KSB7XG4gICAgbGV0IGxvY2F0aW9uID0gMDtcbiAgICBsZXQgaW5kZXg7XG5cbiAgICBjb25zdCBpbmRpY2VzID0gW107XG4gICAgY29uc3QgcGF0dGVybkxlbiA9IHRoaXMucGF0dGVybi5sZW5ndGg7XG5cbiAgICAvLyBHZXQgYWxsIGV4YWN0IG1hdGNoZXNcbiAgICB3aGlsZSAoKGluZGV4ID0gdGV4dC5pbmRleE9mKHRoaXMucGF0dGVybiwgbG9jYXRpb24pKSA+IC0xKSB7XG4gICAgICBsb2NhdGlvbiA9IGluZGV4ICsgcGF0dGVybkxlbjtcbiAgICAgIGluZGljZXMucHVzaChbaW5kZXgsIGxvY2F0aW9uIC0gMV0pO1xuICAgIH1cblxuICAgIGNvbnN0IGlzTWF0Y2ggPSAhIWluZGljZXMubGVuZ3RoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTWF0Y2gsXG4gICAgICBzY29yZTogaXNNYXRjaCA/IDAgOiAxLFxuICAgICAgaW5kaWNlc1xuICAgIH1cbiAgfVxufVxuXG4vLyDinZdPcmRlciBpcyBpbXBvcnRhbnQuIERPIE5PVCBDSEFOR0UuXG5jb25zdCBzZWFyY2hlcnMgPSBbXG4gIEV4YWN0TWF0Y2gsXG4gIEluY2x1ZGVNYXRjaCxcbiAgUHJlZml4RXhhY3RNYXRjaCxcbiAgSW52ZXJzZVByZWZpeEV4YWN0TWF0Y2gsXG4gIEludmVyc2VTdWZmaXhFeGFjdE1hdGNoLFxuICBTdWZmaXhFeGFjdE1hdGNoLFxuICBJbnZlcnNlRXhhY3RNYXRjaCxcbiAgRnV6enlNYXRjaFxuXTtcblxuY29uc3Qgc2VhcmNoZXJzTGVuID0gc2VhcmNoZXJzLmxlbmd0aDtcblxuLy8gUmVnZXggdG8gc3BsaXQgYnkgc3BhY2VzLCBidXQga2VlcCBhbnl0aGluZyBpbiBxdW90ZXMgdG9nZXRoZXJcbmNvbnN0IFNQQUNFX1JFID0gLyArKD89KD86W15cXFwiXSpcXFwiW15cXFwiXSpcXFwiKSpbXlxcXCJdKiQpLztcbmNvbnN0IE9SX1RPS0VOID0gJ3wnO1xuXG4vLyBSZXR1cm4gYSAyRCBhcnJheSByZXByZXNlbnRhdGlvbiBvZiB0aGUgcXVlcnksIGZvciBzaW1wbGVyIHBhcnNpbmcuXG4vLyBFeGFtcGxlOlxuLy8gXCJeY29yZSBnbyQgfCByYiQgfCBweSQgeHkkXCIgPT4gW1tcIl5jb3JlXCIsIFwiZ28kXCJdLCBbXCJyYiRcIl0sIFtcInB5JFwiLCBcInh5JFwiXV1cbmZ1bmN0aW9uIHBhcnNlUXVlcnkocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBwYXR0ZXJuLnNwbGl0KE9SX1RPS0VOKS5tYXAoKGl0ZW0pID0+IHtcbiAgICBsZXQgcXVlcnkgPSBpdGVtXG4gICAgICAudHJpbSgpXG4gICAgICAuc3BsaXQoU1BBQ0VfUkUpXG4gICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtICYmICEhaXRlbS50cmltKCkpO1xuXG4gICAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcXVlcnkubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5SXRlbSA9IHF1ZXJ5W2ldO1xuXG4gICAgICAvLyAxLiBIYW5kbGUgbXVsdGlwbGUgcXVlcnkgbWF0Y2ggKGkuZSwgb25jZSB0aGF0IGFyZSBxdW90ZWQsIGxpa2UgYFwiaGVsbG8gd29ybGRcImApXG4gICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgIGxldCBpZHggPSAtMTtcbiAgICAgIHdoaWxlICghZm91bmQgJiYgKytpZHggPCBzZWFyY2hlcnNMZW4pIHtcbiAgICAgICAgY29uc3Qgc2VhcmNoZXIgPSBzZWFyY2hlcnNbaWR4XTtcbiAgICAgICAgbGV0IHRva2VuID0gc2VhcmNoZXIuaXNNdWx0aU1hdGNoKHF1ZXJ5SXRlbSk7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgc2VhcmNoZXIodG9rZW4sIG9wdGlvbnMpKTtcbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIuIEhhbmRsZSBzaW5nbGUgcXVlcnkgbWF0Y2hlcyAoaS5lLCBvbmNlIHRoYXQgYXJlICpub3QqIHF1b3RlZClcbiAgICAgIGlkeCA9IC0xO1xuICAgICAgd2hpbGUgKCsraWR4IDwgc2VhcmNoZXJzTGVuKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaGVyID0gc2VhcmNoZXJzW2lkeF07XG4gICAgICAgIGxldCB0b2tlbiA9IHNlYXJjaGVyLmlzU2luZ2xlTWF0Y2gocXVlcnlJdGVtKTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBzZWFyY2hlcih0b2tlbiwgb3B0aW9ucykpO1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0c1xuICB9KVxufVxuXG4vLyBUaGVzZSBleHRlbmRlZCBtYXRjaGVycyBjYW4gcmV0dXJuIGFuIGFycmF5IG9mIG1hdGNoZXMsIGFzIG9wcG9zZWRcbi8vIHRvIGEgc2luZ2wgbWF0Y2hcbmNvbnN0IE11bHRpTWF0Y2hTZXQgPSBuZXcgU2V0KFtGdXp6eU1hdGNoLnR5cGUsIEluY2x1ZGVNYXRjaC50eXBlXSk7XG5cbi8qKlxuICogQ29tbWFuZC1saWtlIHNlYXJjaGluZ1xuICogPT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqIEdpdmVuIG11bHRpcGxlIHNlYXJjaCB0ZXJtcyBkZWxpbWl0ZWQgYnkgc3BhY2VzLmUuZy4gYF5qc2NyaXB0IC5weXRob24kIHJ1YnkgIWphdmFgLFxuICogc2VhcmNoIGluIGEgZ2l2ZW4gdGV4dC5cbiAqXG4gKiBTZWFyY2ggc3ludGF4OlxuICpcbiAqIHwgVG9rZW4gICAgICAgfCBNYXRjaCB0eXBlICAgICAgICAgICAgICAgICB8IERlc2NyaXB0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgLS0tLS0tLS0tLS0gfCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHxcbiAqIHwgYGpzY3JpcHRgICAgfCBmdXp6eS1tYXRjaCAgICAgICAgICAgICAgICB8IEl0ZW1zIHRoYXQgZnV6enkgbWF0Y2ggYGpzY3JpcHRgICAgICAgIHxcbiAqIHwgYD1zY2hlbWVgICAgfCBleGFjdC1tYXRjaCAgICAgICAgICAgICAgICB8IEl0ZW1zIHRoYXQgYXJlIGBzY2hlbWVgICAgICAgICAgICAgICAgIHxcbiAqIHwgYCdweXRob25gICAgfCBpbmNsdWRlLW1hdGNoICAgICAgICAgICAgICB8IEl0ZW1zIHRoYXQgaW5jbHVkZSBgcHl0aG9uYCAgICAgICAgICAgIHxcbiAqIHwgYCFydWJ5YCAgICAgfCBpbnZlcnNlLWV4YWN0LW1hdGNoICAgICAgICB8IEl0ZW1zIHRoYXQgZG8gbm90IGluY2x1ZGUgYHJ1YnlgICAgICAgIHxcbiAqIHwgYF5qYXZhYCAgICAgfCBwcmVmaXgtZXhhY3QtbWF0Y2ggICAgICAgICB8IEl0ZW1zIHRoYXQgc3RhcnQgd2l0aCBgamF2YWAgICAgICAgICAgIHxcbiAqIHwgYCFeZWFybGFuZ2AgfCBpbnZlcnNlLXByZWZpeC1leGFjdC1tYXRjaCB8IEl0ZW1zIHRoYXQgZG8gbm90IHN0YXJ0IHdpdGggYGVhcmxhbmdgIHxcbiAqIHwgYC5qcyRgICAgICAgfCBzdWZmaXgtZXhhY3QtbWF0Y2ggICAgICAgICB8IEl0ZW1zIHRoYXQgZW5kIHdpdGggYC5qc2AgICAgICAgICAgICAgIHxcbiAqIHwgYCEuZ28kYCAgICAgfCBpbnZlcnNlLXN1ZmZpeC1leGFjdC1tYXRjaCB8IEl0ZW1zIHRoYXQgZG8gbm90IGVuZCB3aXRoIGAuZ29gICAgICAgIHxcbiAqXG4gKiBBIHNpbmdsZSBwaXBlIGNoYXJhY3RlciBhY3RzIGFzIGFuIE9SIG9wZXJhdG9yLiBGb3IgZXhhbXBsZSwgdGhlIGZvbGxvd2luZ1xuICogcXVlcnkgbWF0Y2hlcyBlbnRyaWVzIHRoYXQgc3RhcnQgd2l0aCBgY29yZWAgYW5kIGVuZCB3aXRoIGVpdGhlcmBnb2AsIGByYmAsXG4gKiBvcmBweWAuXG4gKlxuICogYGBgXG4gKiBeY29yZSBnbyQgfCByYiQgfCBweSRcbiAqIGBgYFxuICovXG5jbGFzcyBFeHRlbmRlZFNlYXJjaCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHBhdHRlcm4sXG4gICAge1xuICAgICAgaXNDYXNlU2Vuc2l0aXZlID0gQ29uZmlnLmlzQ2FzZVNlbnNpdGl2ZSxcbiAgICAgIGluY2x1ZGVNYXRjaGVzID0gQ29uZmlnLmluY2x1ZGVNYXRjaGVzLFxuICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoID0gQ29uZmlnLm1pbk1hdGNoQ2hhckxlbmd0aCxcbiAgICAgIGlnbm9yZUxvY2F0aW9uID0gQ29uZmlnLmlnbm9yZUxvY2F0aW9uLFxuICAgICAgZmluZEFsbE1hdGNoZXMgPSBDb25maWcuZmluZEFsbE1hdGNoZXMsXG4gICAgICBsb2NhdGlvbiA9IENvbmZpZy5sb2NhdGlvbixcbiAgICAgIHRocmVzaG9sZCA9IENvbmZpZy50aHJlc2hvbGQsXG4gICAgICBkaXN0YW5jZSA9IENvbmZpZy5kaXN0YW5jZVxuICAgIH0gPSB7fVxuICApIHtcbiAgICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBpc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBpbmNsdWRlTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCxcbiAgICAgIGZpbmRBbGxNYXRjaGVzLFxuICAgICAgaWdub3JlTG9jYXRpb24sXG4gICAgICBsb2NhdGlvbixcbiAgICAgIHRocmVzaG9sZCxcbiAgICAgIGRpc3RhbmNlXG4gICAgfTtcblxuICAgIHRoaXMucGF0dGVybiA9IGlzQ2FzZVNlbnNpdGl2ZSA/IHBhdHRlcm4gOiBwYXR0ZXJuLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5xdWVyeSA9IHBhcnNlUXVlcnkodGhpcy5wYXR0ZXJuLCB0aGlzLm9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIGNvbmRpdGlvbihfLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMudXNlRXh0ZW5kZWRTZWFyY2hcbiAgfVxuXG4gIHNlYXJjaEluKHRleHQpIHtcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMucXVlcnk7XG5cbiAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc01hdGNoOiBmYWxzZSxcbiAgICAgICAgc2NvcmU6IDFcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB7IGluY2x1ZGVNYXRjaGVzLCBpc0Nhc2VTZW5zaXRpdmUgfSA9IHRoaXMub3B0aW9ucztcblxuICAgIHRleHQgPSBpc0Nhc2VTZW5zaXRpdmUgPyB0ZXh0IDogdGV4dC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgbGV0IG51bU1hdGNoZXMgPSAwO1xuICAgIGxldCBhbGxJbmRpY2VzID0gW107XG4gICAgbGV0IHRvdGFsU2NvcmUgPSAwO1xuXG4gICAgLy8gT1JzXG4gICAgZm9yIChsZXQgaSA9IDAsIHFMZW4gPSBxdWVyeS5sZW5ndGg7IGkgPCBxTGVuOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNlYXJjaGVycyA9IHF1ZXJ5W2ldO1xuXG4gICAgICAvLyBSZXNldCBpbmRpY2VzXG4gICAgICBhbGxJbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICBudW1NYXRjaGVzID0gMDtcblxuICAgICAgLy8gQU5Ec1xuICAgICAgZm9yIChsZXQgaiA9IDAsIHBMZW4gPSBzZWFyY2hlcnMubGVuZ3RoOyBqIDwgcExlbjsgaiArPSAxKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaGVyID0gc2VhcmNoZXJzW2pdO1xuICAgICAgICBjb25zdCB7IGlzTWF0Y2gsIGluZGljZXMsIHNjb3JlIH0gPSBzZWFyY2hlci5zZWFyY2godGV4dCk7XG5cbiAgICAgICAgaWYgKGlzTWF0Y2gpIHtcbiAgICAgICAgICBudW1NYXRjaGVzICs9IDE7XG4gICAgICAgICAgdG90YWxTY29yZSArPSBzY29yZTtcbiAgICAgICAgICBpZiAoaW5jbHVkZU1hdGNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBzZWFyY2hlci5jb25zdHJ1Y3Rvci50eXBlO1xuICAgICAgICAgICAgaWYgKE11bHRpTWF0Y2hTZXQuaGFzKHR5cGUpKSB7XG4gICAgICAgICAgICAgIGFsbEluZGljZXMgPSBbLi4uYWxsSW5kaWNlcywgLi4uaW5kaWNlc107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhbGxJbmRpY2VzLnB1c2goaW5kaWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvdGFsU2NvcmUgPSAwO1xuICAgICAgICAgIG51bU1hdGNoZXMgPSAwO1xuICAgICAgICAgIGFsbEluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE9SIGNvbmRpdGlvbiwgc28gaWYgVFJVRSwgcmV0dXJuXG4gICAgICBpZiAobnVtTWF0Y2hlcykge1xuICAgICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICAgIGlzTWF0Y2g6IHRydWUsXG4gICAgICAgICAgc2NvcmU6IHRvdGFsU2NvcmUgLyBudW1NYXRjaGVzXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICAgICAgcmVzdWx0LmluZGljZXMgPSBhbGxJbmRpY2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vdGhpbmcgd2FzIG1hdGNoZWRcbiAgICByZXR1cm4ge1xuICAgICAgaXNNYXRjaDogZmFsc2UsXG4gICAgICBzY29yZTogMVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCByZWdpc3RlcmVkU2VhcmNoZXJzID0gW107XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKC4uLmFyZ3MpIHtcbiAgcmVnaXN0ZXJlZFNlYXJjaGVycy5wdXNoKC4uLmFyZ3MpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTZWFyY2hlcihwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSByZWdpc3RlcmVkU2VhcmNoZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgbGV0IHNlYXJjaGVyQ2xhc3MgPSByZWdpc3RlcmVkU2VhcmNoZXJzW2ldO1xuICAgIGlmIChzZWFyY2hlckNsYXNzLmNvbmRpdGlvbihwYXR0ZXJuLCBvcHRpb25zKSkge1xuICAgICAgcmV0dXJuIG5ldyBzZWFyY2hlckNsYXNzKHBhdHRlcm4sIG9wdGlvbnMpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBCaXRhcFNlYXJjaChwYXR0ZXJuLCBvcHRpb25zKVxufVxuXG5jb25zdCBMb2dpY2FsT3BlcmF0b3IgPSB7XG4gIEFORDogJyRhbmQnLFxuICBPUjogJyRvcidcbn07XG5cbmNvbnN0IEtleVR5cGUgPSB7XG4gIFBBVEg6ICckcGF0aCcsXG4gIFBBVFRFUk46ICckdmFsJ1xufTtcblxuY29uc3QgaXNFeHByZXNzaW9uID0gKHF1ZXJ5KSA9PlxuICAhIShxdWVyeVtMb2dpY2FsT3BlcmF0b3IuQU5EXSB8fCBxdWVyeVtMb2dpY2FsT3BlcmF0b3IuT1JdKTtcblxuY29uc3QgaXNQYXRoID0gKHF1ZXJ5KSA9PiAhIXF1ZXJ5W0tleVR5cGUuUEFUSF07XG5cbmNvbnN0IGlzTGVhZiA9IChxdWVyeSkgPT5cbiAgIWlzQXJyYXkocXVlcnkpICYmIGlzT2JqZWN0KHF1ZXJ5KSAmJiAhaXNFeHByZXNzaW9uKHF1ZXJ5KTtcblxuY29uc3QgY29udmVydFRvRXhwbGljaXQgPSAocXVlcnkpID0+ICh7XG4gIFtMb2dpY2FsT3BlcmF0b3IuQU5EXTogT2JqZWN0LmtleXMocXVlcnkpLm1hcCgoa2V5KSA9PiAoe1xuICAgIFtrZXldOiBxdWVyeVtrZXldXG4gIH0pKVxufSk7XG5cbi8vIFdoZW4gYGF1dG9gIGlzIGB0cnVlYCwgdGhlIHBhcnNlIGZ1bmN0aW9uIHdpbGwgaW5mZXIgYW5kIGluaXRpYWxpemUgYW5kIGFkZFxuLy8gdGhlIGFwcHJvcHJpYXRlIGBTZWFyY2hlcmAgaW5zdGFuY2VcbmZ1bmN0aW9uIHBhcnNlKHF1ZXJ5LCBvcHRpb25zLCB7IGF1dG8gPSB0cnVlIH0gPSB7fSkge1xuICBjb25zdCBuZXh0ID0gKHF1ZXJ5KSA9PiB7XG4gICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhxdWVyeSk7XG5cbiAgICBjb25zdCBpc1F1ZXJ5UGF0aCA9IGlzUGF0aChxdWVyeSk7XG5cbiAgICBpZiAoIWlzUXVlcnlQYXRoICYmIGtleXMubGVuZ3RoID4gMSAmJiAhaXNFeHByZXNzaW9uKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIG5leHQoY29udmVydFRvRXhwbGljaXQocXVlcnkpKVxuICAgIH1cblxuICAgIGlmIChpc0xlYWYocXVlcnkpKSB7XG4gICAgICBjb25zdCBrZXkgPSBpc1F1ZXJ5UGF0aCA/IHF1ZXJ5W0tleVR5cGUuUEFUSF0gOiBrZXlzWzBdO1xuXG4gICAgICBjb25zdCBwYXR0ZXJuID0gaXNRdWVyeVBhdGggPyBxdWVyeVtLZXlUeXBlLlBBVFRFUk5dIDogcXVlcnlba2V5XTtcblxuICAgICAgaWYgKCFpc1N0cmluZyhwYXR0ZXJuKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTE9HSUNBTF9TRUFSQ0hfSU5WQUxJRF9RVUVSWV9GT1JfS0VZKGtleSkpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9iaiA9IHtcbiAgICAgICAga2V5SWQ6IGNyZWF0ZUtleUlkKGtleSksXG4gICAgICAgIHBhdHRlcm5cbiAgICAgIH07XG5cbiAgICAgIGlmIChhdXRvKSB7XG4gICAgICAgIG9iai5zZWFyY2hlciA9IGNyZWF0ZVNlYXJjaGVyKHBhdHRlcm4sIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqXG4gICAgfVxuXG4gICAgbGV0IG5vZGUgPSB7XG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICBvcGVyYXRvcjoga2V5c1swXVxuICAgIH07XG5cbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBxdWVyeVtrZXldO1xuXG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChuZXh0KGl0ZW0pKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbm9kZVxuICB9O1xuXG4gIGlmICghaXNFeHByZXNzaW9uKHF1ZXJ5KSkge1xuICAgIHF1ZXJ5ID0gY29udmVydFRvRXhwbGljaXQocXVlcnkpO1xuICB9XG5cbiAgcmV0dXJuIG5leHQocXVlcnkpXG59XG5cbi8vIFByYWN0aWNhbCBzY29yaW5nIGZ1bmN0aW9uXG5mdW5jdGlvbiBjb21wdXRlU2NvcmUoXG4gIHJlc3VsdHMsXG4gIHsgaWdub3JlRmllbGROb3JtID0gQ29uZmlnLmlnbm9yZUZpZWxkTm9ybSB9XG4pIHtcbiAgcmVzdWx0cy5mb3JFYWNoKChyZXN1bHQpID0+IHtcbiAgICBsZXQgdG90YWxTY29yZSA9IDE7XG5cbiAgICByZXN1bHQubWF0Y2hlcy5mb3JFYWNoKCh7IGtleSwgbm9ybSwgc2NvcmUgfSkgPT4ge1xuICAgICAgY29uc3Qgd2VpZ2h0ID0ga2V5ID8ga2V5LndlaWdodCA6IG51bGw7XG5cbiAgICAgIHRvdGFsU2NvcmUgKj0gTWF0aC5wb3coXG4gICAgICAgIHNjb3JlID09PSAwICYmIHdlaWdodCA/IE51bWJlci5FUFNJTE9OIDogc2NvcmUsXG4gICAgICAgICh3ZWlnaHQgfHwgMSkgKiAoaWdub3JlRmllbGROb3JtID8gMSA6IG5vcm0pXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcmVzdWx0LnNjb3JlID0gdG90YWxTY29yZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybU1hdGNoZXMocmVzdWx0LCBkYXRhKSB7XG4gIGNvbnN0IG1hdGNoZXMgPSByZXN1bHQubWF0Y2hlcztcbiAgZGF0YS5tYXRjaGVzID0gW107XG5cbiAgaWYgKCFpc0RlZmluZWQobWF0Y2hlcykpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIG1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+IHtcbiAgICBpZiAoIWlzRGVmaW5lZChtYXRjaC5pbmRpY2VzKSB8fCAhbWF0Y2guaW5kaWNlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHsgaW5kaWNlcywgdmFsdWUgfSA9IG1hdGNoO1xuXG4gICAgbGV0IG9iaiA9IHtcbiAgICAgIGluZGljZXMsXG4gICAgICB2YWx1ZVxuICAgIH07XG5cbiAgICBpZiAobWF0Y2gua2V5KSB7XG4gICAgICBvYmoua2V5ID0gbWF0Y2gua2V5LnNyYztcbiAgICB9XG5cbiAgICBpZiAobWF0Y2guaWR4ID4gLTEpIHtcbiAgICAgIG9iai5yZWZJbmRleCA9IG1hdGNoLmlkeDtcbiAgICB9XG5cbiAgICBkYXRhLm1hdGNoZXMucHVzaChvYmopO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtU2NvcmUocmVzdWx0LCBkYXRhKSB7XG4gIGRhdGEuc2NvcmUgPSByZXN1bHQuc2NvcmU7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdChcbiAgcmVzdWx0cyxcbiAgZG9jcyxcbiAge1xuICAgIGluY2x1ZGVNYXRjaGVzID0gQ29uZmlnLmluY2x1ZGVNYXRjaGVzLFxuICAgIGluY2x1ZGVTY29yZSA9IENvbmZpZy5pbmNsdWRlU2NvcmVcbiAgfSA9IHt9XG4pIHtcbiAgY29uc3QgdHJhbnNmb3JtZXJzID0gW107XG5cbiAgaWYgKGluY2x1ZGVNYXRjaGVzKSB0cmFuc2Zvcm1lcnMucHVzaCh0cmFuc2Zvcm1NYXRjaGVzKTtcbiAgaWYgKGluY2x1ZGVTY29yZSkgdHJhbnNmb3JtZXJzLnB1c2godHJhbnNmb3JtU2NvcmUpO1xuXG4gIHJldHVybiByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiB7XG4gICAgY29uc3QgeyBpZHggfSA9IHJlc3VsdDtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBpdGVtOiBkb2NzW2lkeF0sXG4gICAgICByZWZJbmRleDogaWR4XG4gICAgfTtcblxuICAgIGlmICh0cmFuc2Zvcm1lcnMubGVuZ3RoKSB7XG4gICAgICB0cmFuc2Zvcm1lcnMuZm9yRWFjaCgodHJhbnNmb3JtZXIpID0+IHtcbiAgICAgICAgdHJhbnNmb3JtZXIocmVzdWx0LCBkYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhXG4gIH0pXG59XG5cbmNsYXNzIEZ1c2Uge1xuICBjb25zdHJ1Y3Rvcihkb2NzLCBvcHRpb25zID0ge30sIGluZGV4KSB7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5Db25maWcsIC4uLm9wdGlvbnMgfTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9ucy51c2VFeHRlbmRlZFNlYXJjaCAmJlxuICAgICAgIXRydWVcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihFWFRFTkRFRF9TRUFSQ0hfVU5BVkFJTEFCTEUpXG4gICAgfVxuXG4gICAgdGhpcy5fa2V5U3RvcmUgPSBuZXcgS2V5U3RvcmUodGhpcy5vcHRpb25zLmtleXMpO1xuXG4gICAgdGhpcy5zZXRDb2xsZWN0aW9uKGRvY3MsIGluZGV4KTtcbiAgfVxuXG4gIHNldENvbGxlY3Rpb24oZG9jcywgaW5kZXgpIHtcbiAgICB0aGlzLl9kb2NzID0gZG9jcztcblxuICAgIGlmIChpbmRleCAmJiAhKGluZGV4IGluc3RhbmNlb2YgRnVzZUluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKElOQ09SUkVDVF9JTkRFWF9UWVBFKVxuICAgIH1cblxuICAgIHRoaXMuX215SW5kZXggPVxuICAgICAgaW5kZXggfHxcbiAgICAgIGNyZWF0ZUluZGV4KHRoaXMub3B0aW9ucy5rZXlzLCB0aGlzLl9kb2NzLCB7XG4gICAgICAgIGdldEZuOiB0aGlzLm9wdGlvbnMuZ2V0Rm4sXG4gICAgICAgIGZpZWxkTm9ybVdlaWdodDogdGhpcy5vcHRpb25zLmZpZWxkTm9ybVdlaWdodFxuICAgICAgfSk7XG4gIH1cblxuICBhZGQoZG9jKSB7XG4gICAgaWYgKCFpc0RlZmluZWQoZG9jKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5fZG9jcy5wdXNoKGRvYyk7XG4gICAgdGhpcy5fbXlJbmRleC5hZGQoZG9jKTtcbiAgfVxuXG4gIHJlbW92ZShwcmVkaWNhdGUgPSAoLyogZG9jLCBpZHggKi8pID0+IGZhbHNlKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuX2RvY3MubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGRvYyA9IHRoaXMuX2RvY3NbaV07XG4gICAgICBpZiAocHJlZGljYXRlKGRvYywgaSkpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdChpKTtcbiAgICAgICAgaSAtPSAxO1xuICAgICAgICBsZW4gLT0gMTtcblxuICAgICAgICByZXN1bHRzLnB1c2goZG9jKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0c1xuICB9XG5cbiAgcmVtb3ZlQXQoaWR4KSB7XG4gICAgdGhpcy5fZG9jcy5zcGxpY2UoaWR4LCAxKTtcbiAgICB0aGlzLl9teUluZGV4LnJlbW92ZUF0KGlkeCk7XG4gIH1cblxuICBnZXRJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbXlJbmRleFxuICB9XG5cbiAgc2VhcmNoKHF1ZXJ5LCB7IGxpbWl0ID0gLTEgfSA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgaW5jbHVkZU1hdGNoZXMsXG4gICAgICBpbmNsdWRlU2NvcmUsXG4gICAgICBzaG91bGRTb3J0LFxuICAgICAgc29ydEZuLFxuICAgICAgaWdub3JlRmllbGROb3JtXG4gICAgfSA9IHRoaXMub3B0aW9ucztcblxuICAgIGxldCByZXN1bHRzID0gaXNTdHJpbmcocXVlcnkpXG4gICAgICA/IGlzU3RyaW5nKHRoaXMuX2RvY3NbMF0pXG4gICAgICAgID8gdGhpcy5fc2VhcmNoU3RyaW5nTGlzdChxdWVyeSlcbiAgICAgICAgOiB0aGlzLl9zZWFyY2hPYmplY3RMaXN0KHF1ZXJ5KVxuICAgICAgOiB0aGlzLl9zZWFyY2hMb2dpY2FsKHF1ZXJ5KTtcblxuICAgIGNvbXB1dGVTY29yZShyZXN1bHRzLCB7IGlnbm9yZUZpZWxkTm9ybSB9KTtcblxuICAgIGlmIChzaG91bGRTb3J0KSB7XG4gICAgICByZXN1bHRzLnNvcnQoc29ydEZuKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOdW1iZXIobGltaXQpICYmIGxpbWl0ID4gLTEpIHtcbiAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNsaWNlKDAsIGxpbWl0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0KHJlc3VsdHMsIHRoaXMuX2RvY3MsIHtcbiAgICAgIGluY2x1ZGVNYXRjaGVzLFxuICAgICAgaW5jbHVkZVNjb3JlXG4gICAgfSlcbiAgfVxuXG4gIF9zZWFyY2hTdHJpbmdMaXN0KHF1ZXJ5KSB7XG4gICAgY29uc3Qgc2VhcmNoZXIgPSBjcmVhdGVTZWFyY2hlcihxdWVyeSwgdGhpcy5vcHRpb25zKTtcbiAgICBjb25zdCB7IHJlY29yZHMgfSA9IHRoaXMuX215SW5kZXg7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIGV2ZXJ5IHN0cmluZyBpbiB0aGUgaW5kZXhcbiAgICByZWNvcmRzLmZvckVhY2goKHsgdjogdGV4dCwgaTogaWR4LCBuOiBub3JtIH0pID0+IHtcbiAgICAgIGlmICghaXNEZWZpbmVkKHRleHQpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGlzTWF0Y2gsIHNjb3JlLCBpbmRpY2VzIH0gPSBzZWFyY2hlci5zZWFyY2hJbih0ZXh0KTtcblxuICAgICAgaWYgKGlzTWF0Y2gpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICBpdGVtOiB0ZXh0LFxuICAgICAgICAgIGlkeCxcbiAgICAgICAgICBtYXRjaGVzOiBbeyBzY29yZSwgdmFsdWU6IHRleHQsIG5vcm0sIGluZGljZXMgfV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0c1xuICB9XG5cbiAgX3NlYXJjaExvZ2ljYWwocXVlcnkpIHtcblxuICAgIGNvbnN0IGV4cHJlc3Npb24gPSBwYXJzZShxdWVyeSwgdGhpcy5vcHRpb25zKTtcblxuICAgIGNvbnN0IGV2YWx1YXRlID0gKG5vZGUsIGl0ZW0sIGlkeCkgPT4ge1xuICAgICAgaWYgKCFub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIGNvbnN0IHsga2V5SWQsIHNlYXJjaGVyIH0gPSBub2RlO1xuXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSB0aGlzLl9maW5kTWF0Y2hlcyh7XG4gICAgICAgICAga2V5OiB0aGlzLl9rZXlTdG9yZS5nZXQoa2V5SWQpLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLl9teUluZGV4LmdldFZhbHVlRm9ySXRlbUF0S2V5SWQoaXRlbSwga2V5SWQpLFxuICAgICAgICAgIHNlYXJjaGVyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWR4LFxuICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICBtYXRjaGVzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBldmFsdWF0ZShjaGlsZCwgaXRlbSwgaWR4KTtcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpIHtcbiAgICAgICAgICByZXMucHVzaCguLi5yZXN1bHQpO1xuICAgICAgICB9IGVsc2UgaWYgKG5vZGUub3BlcmF0b3IgPT09IExvZ2ljYWxPcGVyYXRvci5BTkQpIHtcbiAgICAgICAgICByZXR1cm4gW11cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc1xuICAgIH07XG5cbiAgICBjb25zdCByZWNvcmRzID0gdGhpcy5fbXlJbmRleC5yZWNvcmRzO1xuICAgIGNvbnN0IHJlc3VsdE1hcCA9IHt9O1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICAgIHJlY29yZHMuZm9yRWFjaCgoeyAkOiBpdGVtLCBpOiBpZHggfSkgPT4ge1xuICAgICAgaWYgKGlzRGVmaW5lZChpdGVtKSkge1xuICAgICAgICBsZXQgZXhwUmVzdWx0cyA9IGV2YWx1YXRlKGV4cHJlc3Npb24sIGl0ZW0sIGlkeCk7XG5cbiAgICAgICAgaWYgKGV4cFJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gRGVkdXBlIHdoZW4gYWRkaW5nXG4gICAgICAgICAgaWYgKCFyZXN1bHRNYXBbaWR4XSkge1xuICAgICAgICAgICAgcmVzdWx0TWFwW2lkeF0gPSB7IGlkeCwgaXRlbSwgbWF0Y2hlczogW10gfTtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHRNYXBbaWR4XSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGV4cFJlc3VsdHMuZm9yRWFjaCgoeyBtYXRjaGVzIH0pID0+IHtcbiAgICAgICAgICAgIHJlc3VsdE1hcFtpZHhdLm1hdGNoZXMucHVzaCguLi5tYXRjaGVzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgfVxuXG4gIF9zZWFyY2hPYmplY3RMaXN0KHF1ZXJ5KSB7XG4gICAgY29uc3Qgc2VhcmNoZXIgPSBjcmVhdGVTZWFyY2hlcihxdWVyeSwgdGhpcy5vcHRpb25zKTtcbiAgICBjb25zdCB7IGtleXMsIHJlY29yZHMgfSA9IHRoaXMuX215SW5kZXg7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuXG4gICAgLy8gTGlzdCBpcyBBcnJheTxPYmplY3Q+XG4gICAgcmVjb3Jkcy5mb3JFYWNoKCh7ICQ6IGl0ZW0sIGk6IGlkeCB9KSA9PiB7XG4gICAgICBpZiAoIWlzRGVmaW5lZChpdGVtKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgbGV0IG1hdGNoZXMgPSBbXTtcblxuICAgICAgLy8gSXRlcmF0ZSBvdmVyIGV2ZXJ5IGtleSAoaS5lLCBwYXRoKSwgYW5kIGZldGNoIHRoZSB2YWx1ZSBhdCB0aGF0IGtleVxuICAgICAga2V5cy5mb3JFYWNoKChrZXksIGtleUluZGV4KSA9PiB7XG4gICAgICAgIG1hdGNoZXMucHVzaChcbiAgICAgICAgICAuLi50aGlzLl9maW5kTWF0Y2hlcyh7XG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICB2YWx1ZTogaXRlbVtrZXlJbmRleF0sXG4gICAgICAgICAgICBzZWFyY2hlclxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgaWR4LFxuICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgbWF0Y2hlc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHRzXG4gIH1cbiAgX2ZpbmRNYXRjaGVzKHsga2V5LCB2YWx1ZSwgc2VhcmNoZXIgfSkge1xuICAgIGlmICghaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuXG4gICAgbGV0IG1hdGNoZXMgPSBbXTtcblxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaCgoeyB2OiB0ZXh0LCBpOiBpZHgsIG46IG5vcm0gfSkgPT4ge1xuICAgICAgICBpZiAoIWlzRGVmaW5lZCh0ZXh0KSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBpc01hdGNoLCBzY29yZSwgaW5kaWNlcyB9ID0gc2VhcmNoZXIuc2VhcmNoSW4odGV4dCk7XG5cbiAgICAgICAgaWYgKGlzTWF0Y2gpIHtcbiAgICAgICAgICBtYXRjaGVzLnB1c2goe1xuICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICB2YWx1ZTogdGV4dCxcbiAgICAgICAgICAgIGlkeCxcbiAgICAgICAgICAgIG5vcm0sXG4gICAgICAgICAgICBpbmRpY2VzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7IHY6IHRleHQsIG46IG5vcm0gfSA9IHZhbHVlO1xuXG4gICAgICBjb25zdCB7IGlzTWF0Y2gsIHNjb3JlLCBpbmRpY2VzIH0gPSBzZWFyY2hlci5zZWFyY2hJbih0ZXh0KTtcblxuICAgICAgaWYgKGlzTWF0Y2gpIHtcbiAgICAgICAgbWF0Y2hlcy5wdXNoKHsgc2NvcmUsIGtleSwgdmFsdWU6IHRleHQsIG5vcm0sIGluZGljZXMgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoZXNcbiAgfVxufVxuXG5GdXNlLnZlcnNpb24gPSAnNy4wLjAnO1xuRnVzZS5jcmVhdGVJbmRleCA9IGNyZWF0ZUluZGV4O1xuRnVzZS5wYXJzZUluZGV4ID0gcGFyc2VJbmRleDtcbkZ1c2UuY29uZmlnID0gQ29uZmlnO1xuXG57XG4gIEZ1c2UucGFyc2VRdWVyeSA9IHBhcnNlO1xufVxuXG57XG4gIHJlZ2lzdGVyKEV4dGVuZGVkU2VhcmNoKTtcbn1cblxuZXhwb3J0IHsgRnVzZSBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBmdXp6eU1hdGNoIH0gZnJvbSBcIi4vZnV6enlTZWFyY2guanNcIjtcbmltcG9ydCB7IG1haW5EaXYsIHRhYkxpc3QsIHNlYXJjaCB9IGZyb20gXCIuL2VsZW1lbnRzLmpzXCI7XG5pbXBvcnQgRnVzZSBmcm9tIFwiZnVzZS5qc1wiO1xuXG5tYWluRGl2LmFwcGVuZENoaWxkKHRhYkxpc3QpO1xubWFpbkRpdi5hcHBlbmRDaGlsZChzZWFyY2gpO1xuXG5jb25zdCBmdXNlT3B0aW9ucyA9IHtcbiAga2V5czogW1widGl0bGVcIiwgXCJ1cmxcIl0sXG59O1xuXG5sZXQgc2VsZWN0ZWRMaXN0O1xuXG5mdW5jdGlvbiBkaXNwbGF5VGFicyh0YWJzKSB7XG4gIHRhYkxpc3QuaW5uZXJIVE1MID0gXCJcIjsgLy8gQ2xlYXIgcHJldmlvdXMgcmVzdWx0c1xuICBjb25zdCBxdWVyeSA9IHNlYXJjaC52YWx1ZS50cmltKCk7XG5cbiAgLy8gY29uc3QgZmlsdGVyZWRUYWJzID0gdGFicy5maWx0ZXIoXG4gIC8vICAgKHRhYikgPT4gZnV6enlNYXRjaChxdWVyeSwgdGFiLnRpdGxlKSB8fCBmdXp6eU1hdGNoKHF1ZXJ5LCB0YWIudXJsKSxcbiAgLy8gKTtcbiAgLy9cbiAgY29uc3QgZnVzZSA9IG5ldyBGdXNlKHRhYnMsIGZ1c2VPcHRpb25zKTtcblxuICBjb25zdCBmaWx0ZXJlZFRhYnMgPVxuICAgIHF1ZXJ5ID09PSBcIlwiID8gdGFicyA6IGZ1c2Uuc2VhcmNoKHF1ZXJ5KS5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0Lml0ZW0pO1xuXG4gIGZpbHRlcmVkVGFicy5yZXZlcnNlKCk7XG5cbiAgZmlsdGVyZWRUYWJzLmZvckVhY2goKHRhYiwgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgY29uc3QgbGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgbGlzdEl0ZW0uY2xhc3NMaXN0LmFkZChcImZ1enp5LXRhYi1zZWFyY2gtdGFiLWxpc3QtaXRlbVwiKTtcbiAgICBjb25zdCBob3N0bmFtZSA9IG5ldyBVUkwodGFiLnVybCkuaG9zdG5hbWU7XG4gICAgbGlzdEl0ZW0udGV4dENvbnRlbnQgPSBob3N0bmFtZSArIFwiIDogXCIgKyB0YWIudGl0bGU7XG5cbiAgICBpZiAoaW5kZXggPT09IGFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIHNlbGVjdGVkTGlzdCA9IGxpc3RJdGVtO1xuICAgICAgc2VsZWN0ZWRMaXN0LmNsYXNzTGlzdC5hZGQoXCJiZy1ncmF5LTUwMFwiKTtcbiAgICB9XG5cbiAgICBsaXN0SXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgYWN0aW9uOiBcImhpZ2hsaWdodFRhYlwiLFxuICAgICAgICB0YWJJbmRleDogdGFiLmluZGV4LFxuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobWFpbkRpdik7XG4gICAgfSk7XG5cbiAgICB0YWJMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGZldGNoQW5kRGlzcGxheVRhYnMoKSB7XG4gIGNvbnN0IHNlYXJjaFF1ZXJ5ID0gc2VhcmNoLnZhbHVlO1xuXG4gIC8vIFJlcXVlc3QgdGFiIGluZm9ybWF0aW9uIGZyb20gdGhlIGJhY2tncm91bmQgc2NyaXB0XG4gIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7IGFjdGlvbjogXCJnZXRUYWJzXCIgfSwgKHRhYnMpID0+IHtcbiAgICBpZiAodGFicykge1xuICAgICAgZGlzcGxheVRhYnModGFicywgc2VhcmNoUXVlcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIHRhYnMuXCIpO1xuICAgIH1cbiAgfSk7XG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAvLyBDaGVjayBpZiB0aGUgQ29udHJvbCBrZXkgaXMgcHJlc3NlZCBhbmQgdGhlIEYga2V5IGlzIHByZXNzZWRcbiAgaWYgKGV2ZW50LmN0cmxLZXkgJiYgZXZlbnQua2V5ID09PSBcImZcIikge1xuICAgIHNlYXJjaC52YWx1ZSA9IFwiXCI7XG4gICAgZmV0Y2hBbmREaXNwbGF5VGFicygpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgdGhlIGRlZmF1bHQgYnJvd3NlciBhY3Rpb24gKGUuZy4sIG9wZW5pbmcgdGhlIHNlYXJjaCBiYXIpXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtYWluRGl2KTtcbiAgICBzZWFyY2guZm9jdXMoKTtcbiAgICBjb25zb2xlLmxvZyhcInRlc3RcIik7XG4gIH1cbn0pO1xuXG5tYWluRGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAvLyBDaGVjayBpZiB0aGUgQ29udHJvbCBrZXkgaXMgcHJlc3NlZCBhbmQgdGhlIEYga2V5IGlzIHByZXNzZWRcbiAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobWFpbkRpdik7XG4gIH1cbn0pO1xuXG4vLyBFdmVudCBsaXN0ZW5lciBmb3IgaW5wdXRcbnNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZmV0Y2hBbmREaXNwbGF5VGFicyk7XG5cbnNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgc2VsZWN0ZWRMaXN0LmNsaWNrKCk7XG4gIH0gZWxzZSBpZiAoZXZlbnQuY3RybEtleSAmJiBldmVudC5rZXkgPT09IFwicFwiKSB7XG4gICAgaWYgKHNlbGVjdGVkTGlzdC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICBzZWxlY3RlZExpc3QuY2xhc3NMaXN0LnJlbW92ZShcImJnLWdyYXktNTAwXCIpOyAvLyBSZW1vdmUgY3VycmVudCBzZWxlY3Rpb25cbiAgICAgIHNlbGVjdGVkTGlzdCA9IHNlbGVjdGVkTGlzdC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOyAvLyBVcGRhdGUgcmVmZXJlbmNlXG4gICAgICBzZWxlY3RlZExpc3QuY2xhc3NMaXN0LmFkZChcImJnLWdyYXktNTAwXCIpOyAvLyBIaWdobGlnaHQgbmV3IHNlbGVjdGlvblxuICAgIH1cbiAgfSBlbHNlIGlmIChldmVudC5jdHJsS2V5ICYmIGV2ZW50LmtleSA9PT0gXCJuXCIpIHtcbiAgICAvLyBNb3ZlIHRvIHRoZSBuZXh0IHNpYmxpbmdcbiAgICBpZiAoc2VsZWN0ZWRMaXN0Lm5leHRFbGVtZW50U2libGluZykge1xuICAgICAgc2VsZWN0ZWRMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJiZy1ncmF5LTUwMFwiKTsgLy8gUmVtb3ZlIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICBzZWxlY3RlZExpc3QgPSBzZWxlY3RlZExpc3QubmV4dEVsZW1lbnRTaWJsaW5nOyAvLyBVcGRhdGUgcmVmZXJlbmNlXG4gICAgICBzZWxlY3RlZExpc3QuY2xhc3NMaXN0LmFkZChcImJnLWdyYXktNTAwXCIpOyAvLyBIaWdobGlnaHQgbmV3IHNlbGVjdGlvblxuICAgIH1cbiAgfVxufSk7XG4iXSwibmFtZXMiOlsibWFpbkRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInRhYkluZGV4IiwidGFiTGlzdCIsInNlYXJjaCIsImlzQXJyYXkiLCJ2YWx1ZSIsIkFycmF5IiwiZ2V0VGFnIiwiaXNTdHJpbmciLCJpc051bWJlciIsImlzT2JqZWN0IiwiaXNEZWZpbmVkIiwiaXNCbGFuayIsInRyaW0iLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJhdXRvZm9jdXMiLCJoYXNPd24iLCJoYXNPd25Qcm9wZXJ0eSIsIktleVN0b3JlIiwiY29uc3RydWN0b3IiLCJrZXlzIiwidGhpcyIsIl9rZXlzIiwiX2tleU1hcCIsInRvdGFsV2VpZ2h0IiwiZm9yRWFjaCIsImtleSIsIm9iaiIsImNyZWF0ZUtleSIsInB1c2giLCJpZCIsIndlaWdodCIsImdldCIsImtleUlkIiwidG9KU09OIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhdGgiLCJzcmMiLCJnZXRGbiIsImNyZWF0ZUtleVBhdGgiLCJjcmVhdGVLZXlJZCIsIkVycm9yIiwibmFtZSIsIklOVkFMSURfS0VZX1dFSUdIVF9WQUxVRSIsInNwbGl0Iiwiam9pbiIsIkNvbmZpZyIsImlzQ2FzZVNlbnNpdGl2ZSIsImluY2x1ZGVTY29yZSIsInNob3VsZFNvcnQiLCJzb3J0Rm4iLCJhIiwiYiIsInNjb3JlIiwiaWR4IiwiaW5jbHVkZU1hdGNoZXMiLCJmaW5kQWxsTWF0Y2hlcyIsIm1pbk1hdGNoQ2hhckxlbmd0aCIsImxvY2F0aW9uIiwidGhyZXNob2xkIiwiZGlzdGFuY2UiLCJ1c2VFeHRlbmRlZFNlYXJjaCIsImxpc3QiLCJhcnIiLCJkZWVwR2V0IiwiaW5kZXgiLCJpc09iamVjdExpa2UiLCJpc0Jvb2xlYW4iLCJyZXN1bHQiLCJiYXNlVG9TdHJpbmciLCJpIiwibGVuIiwiaWdub3JlTG9jYXRpb24iLCJpZ25vcmVGaWVsZE5vcm0iLCJmaWVsZE5vcm1XZWlnaHQiLCJTUEFDRSIsIkZ1c2VJbmRleCIsIm5vcm0iLCJtYW50aXNzYSIsImNhY2hlIiwiTWFwIiwibSIsIk1hdGgiLCJwb3ciLCJudW1Ub2tlbnMiLCJtYXRjaCIsImhhcyIsIm4iLCJwYXJzZUZsb2F0Iiwicm91bmQiLCJzZXQiLCJjbGVhciIsImlzQ3JlYXRlZCIsInNldEluZGV4UmVjb3JkcyIsInNldFNvdXJjZXMiLCJkb2NzIiwicmVjb3JkcyIsInNldEtleXMiLCJfa2V5c01hcCIsImNyZWF0ZSIsImRvYyIsImRvY0luZGV4IiwiX2FkZFN0cmluZyIsIl9hZGRPYmplY3QiLCJzaXplIiwicmVtb3ZlQXQiLCJzcGxpY2UiLCJnZXRWYWx1ZUZvckl0ZW1BdEtleUlkIiwiaXRlbSIsInJlY29yZCIsInYiLCIkIiwia2V5SW5kZXgiLCJzdWJSZWNvcmRzIiwic3RhY2siLCJuZXN0ZWRBcnJJbmRleCIsInBvcCIsInN1YlJlY29yZCIsImsiLCJjcmVhdGVJbmRleCIsIm15SW5kZXgiLCJtYXAiLCJjb21wdXRlU2NvcmUkMSIsInBhdHRlcm4iLCJlcnJvcnMiLCJjdXJyZW50TG9jYXRpb24iLCJleHBlY3RlZExvY2F0aW9uIiwiYWNjdXJhY3kiLCJwcm94aW1pdHkiLCJhYnMiLCJNQVhfQklUUyIsImNyZWF0ZVBhdHRlcm5BbHBoYWJldCIsIm1hc2siLCJjaGFyIiwiY2hhckF0IiwiQml0YXBTZWFyY2giLCJvcHRpb25zIiwidG9Mb3dlckNhc2UiLCJjaHVua3MiLCJhZGRDaHVuayIsInN0YXJ0SW5kZXgiLCJhbHBoYWJldCIsInJlbWFpbmRlciIsImVuZCIsInN1YnN0ciIsInNlYXJjaEluIiwidGV4dCIsImlzTWF0Y2giLCJpbmRpY2VzIiwiYWxsSW5kaWNlcyIsInRvdGFsU2NvcmUiLCJoYXNNYXRjaGVzIiwicGF0dGVybkFscGhhYmV0IiwicGF0dGVybkxlbiIsInRleHRMZW4iLCJtYXgiLCJtaW4iLCJjdXJyZW50VGhyZXNob2xkIiwiYmVzdExvY2F0aW9uIiwiY29tcHV0ZU1hdGNoZXMiLCJtYXRjaE1hc2siLCJpbmRleE9mIiwibGFzdEJpdEFyciIsImZpbmFsU2NvcmUiLCJiaW5NYXgiLCJiaW5NaW4iLCJiaW5NaWQiLCJmbG9vciIsInN0YXJ0IiwiZmluaXNoIiwiYml0QXJyIiwiaiIsImNoYXJNYXRjaCIsIm1hdGNobWFzayIsImNvbnZlcnRNYXNrVG9JbmRpY2VzIiwiQmFzZU1hdGNoIiwiaXNNdWx0aU1hdGNoIiwiZ2V0TWF0Y2giLCJtdWx0aVJlZ2V4IiwiaXNTaW5nbGVNYXRjaCIsInNpbmdsZVJlZ2V4IiwiZXhwIiwibWF0Y2hlcyIsIkZ1enp5TWF0Y2giLCJzdXBlciIsIl9iaXRhcFNlYXJjaCIsInR5cGUiLCJJbmNsdWRlTWF0Y2giLCJzZWFyY2hlcnMiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJzZWFyY2hlcnNMZW4iLCJTUEFDRV9SRSIsIk11bHRpTWF0Y2hTZXQiLCJTZXQiLCJyZWdpc3RlcmVkU2VhcmNoZXJzIiwiY3JlYXRlU2VhcmNoZXIiLCJzZWFyY2hlckNsYXNzIiwiY29uZGl0aW9uIiwiTG9naWNhbE9wZXJhdG9yIiwiS2V5VHlwZSIsImlzRXhwcmVzc2lvbiIsInF1ZXJ5IiwiY29udmVydFRvRXhwbGljaXQiLCJwYXJzZSIsImF1dG8iLCJuZXh0IiwiaXNRdWVyeVBhdGgiLCJpc1BhdGgiLCJpc0xlYWYiLCJMT0dJQ0FMX1NFQVJDSF9JTlZBTElEX1FVRVJZX0ZPUl9LRVkiLCJzZWFyY2hlciIsIm5vZGUiLCJjaGlsZHJlbiIsIm9wZXJhdG9yIiwidHJhbnNmb3JtTWF0Y2hlcyIsImRhdGEiLCJyZWZJbmRleCIsInRyYW5zZm9ybVNjb3JlIiwiRnVzZSIsIl9rZXlTdG9yZSIsInNldENvbGxlY3Rpb24iLCJfZG9jcyIsIl9teUluZGV4IiwicmVtb3ZlIiwicHJlZGljYXRlIiwicmVzdWx0cyIsImdldEluZGV4IiwibGltaXQiLCJfc2VhcmNoU3RyaW5nTGlzdCIsIl9zZWFyY2hPYmplY3RMaXN0IiwiX3NlYXJjaExvZ2ljYWwiLCJOdW1iZXIiLCJFUFNJTE9OIiwiY29tcHV0ZVNjb3JlIiwic29ydCIsInNsaWNlIiwidHJhbnNmb3JtZXJzIiwidHJhbnNmb3JtZXIiLCJmb3JtYXQiLCJleHByZXNzaW9uIiwiZXZhbHVhdGUiLCJfZmluZE1hdGNoZXMiLCJyZXMiLCJjaGlsZCIsInJlc3VsdE1hcCIsImV4cFJlc3VsdHMiLCJ2ZXJzaW9uIiwicGFyc2VJbmRleCIsImNvbmZpZyIsInBhcnNlUXVlcnkiLCJhcmdzIiwicmVnaXN0ZXIiLCJmaWx0ZXIiLCJxdWVyeUl0ZW0iLCJmb3VuZCIsInRva2VuIiwiXyIsIm51bU1hdGNoZXMiLCJxTGVuIiwicExlbiIsImFwcGVuZENoaWxkIiwiZnVzZU9wdGlvbnMiLCJzZWxlY3RlZExpc3QiLCJmZXRjaEFuZERpc3BsYXlUYWJzIiwiYnJvd3NlciIsInJ1bnRpbWUiLCJzZW5kTWVzc2FnZSIsImFjdGlvbiIsInRhYnMiLCJpbm5lckhUTUwiLCJmdXNlIiwiZmlsdGVyZWRUYWJzIiwicmV2ZXJzZSIsInRhYiIsImFycmF5IiwibGlzdEl0ZW0iLCJob3N0bmFtZSIsIlVSTCIsInVybCIsInRleHRDb250ZW50IiwidGl0bGUiLCJhZGRFdmVudExpc3RlbmVyIiwiYm9keSIsInJlbW92ZUNoaWxkIiwiZGlzcGxheVRhYnMiLCJjb25zb2xlIiwiZXJyb3IiLCJldmVudCIsImN0cmxLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImZvY3VzIiwibG9nIiwiY2xpY2siLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwibmV4dEVsZW1lbnRTaWJsaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==