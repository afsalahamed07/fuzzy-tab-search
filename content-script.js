(()=>{"use strict";function e(e,t){const n=e.toLowerCase(),s=t.toLowerCase();let a=0;for(let e of s)if(e===n[a]&&a++,a===n.length)return!0;return!1}const t=document.createElement("div");t.classList.add("fuzzy-tab-search-parent"),t.tabIndex=0;const n=document.createElement("ul");n.classList.add("fuzzy-tab-search-tab-list");const s=document.createElement("input");let a;function i(){s.value,browser.runtime.sendMessage({action:"getTabs"},(i=>{i?function(i){n.innerHTML="";const o=s.value.trim(),c=i.filter((t=>e(o,t.title)||e(o,t.url)));c.reverse(),console.log(c),c.forEach(((e,s,i)=>{const o=document.createElement("li");o.classList.add("fuzzy-tab-search-tab-list-item");const c=new URL(e.url).hostname;o.textContent=c+" : "+e.title,s===i.length-1&&(a=o,a.classList.add("bg-gray-500")),o.addEventListener("click",(()=>{browser.runtime.sendMessage({action:"highlightTab",tabIndex:e.index}),document.body.removeChild(t)})),n.appendChild(o)}))}(i):console.error("Failed to fetch tabs.")}))}s.classList.add("fuzzy-tab-search-search-box"),s.autofocus=!0,t.appendChild(n),t.appendChild(s),document.addEventListener("keydown",(function(e){e.ctrlKey&&"f"===e.key&&(s.value="",i(),e.preventDefault(),document.body.appendChild(t),s.focus(),console.log("test"))})),t.addEventListener("keydown",(function(e){"Escape"===e.key&&document.body.removeChild(t)})),s.addEventListener("input",i),s.addEventListener("keydown",(function(e){"Enter"===e.key?a.click():e.ctrlKey&&"p"===e.key?a.previousElementSibling&&(a.classList.remove("bg-gray-500"),a=a.previousElementSibling,a.classList.add("bg-gray-500")):e.ctrlKey&&"n"===e.key&&a.nextElementSibling&&(a.classList.remove("bg-gray-500"),a=a.nextElementSibling,a.classList.add("bg-gray-500"))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cyIsIndlYnBhY2s6Ly9mdXp6eS10YWItc2VhcmNoLy4vc3JjL2VsZW1lbnRzLmpzIiwid2VicGFjazovL2Z1enp5LXRhYi1zZWFyY2gvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGZ1enp5TWF0Y2gocXVlcnksIHRleHQpIHtcbiAgY29uc3QgcXVlcnlMb3dlciA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IHRleHRMb3dlciA9IHRleHQudG9Mb3dlckNhc2UoKTtcblxuICBsZXQgcXVlcnlJbmRleCA9IDA7XG5cbiAgZm9yIChsZXQgY2hhciBvZiB0ZXh0TG93ZXIpIHtcbiAgICBpZiAoY2hhciA9PT0gcXVlcnlMb3dlcltxdWVyeUluZGV4XSkge1xuICAgICAgcXVlcnlJbmRleCsrO1xuICAgIH1cbiAgICBpZiAocXVlcnlJbmRleCA9PT0gcXVlcnlMb3dlci5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbiIsImNvbnN0IG1haW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xubWFpbkRpdi5jbGFzc0xpc3QuYWRkKFwiZnV6enktdGFiLXNlYXJjaC1wYXJlbnRcIik7XG5tYWluRGl2LnRhYkluZGV4ID0gMDtcblxuY29uc3QgdGFiTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbnRhYkxpc3QuY2xhc3NMaXN0LmFkZChcImZ1enp5LXRhYi1zZWFyY2gtdGFiLWxpc3RcIik7XG5cbmNvbnN0IHNlYXJjaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbnNlYXJjaC5jbGFzc0xpc3QuYWRkKFwiZnV6enktdGFiLXNlYXJjaC1zZWFyY2gtYm94XCIpO1xuc2VhcmNoLmF1dG9mb2N1cyA9IHRydWU7XG5cbmV4cG9ydCB7IG1haW5EaXYsIHRhYkxpc3QsIHNlYXJjaCB9O1xuIiwiaW1wb3J0IHsgZnV6enlNYXRjaCB9IGZyb20gXCIuL2Z1enp5U2VhcmNoLmpzXCI7XG5pbXBvcnQgeyBtYWluRGl2LCB0YWJMaXN0LCBzZWFyY2ggfSBmcm9tIFwiLi9lbGVtZW50cy5qc1wiO1xuXG5tYWluRGl2LmFwcGVuZENoaWxkKHRhYkxpc3QpO1xubWFpbkRpdi5hcHBlbmRDaGlsZChzZWFyY2gpO1xuXG5sZXQgc2VsZWN0ZWRMaXN0O1xuXG5mdW5jdGlvbiBkaXNwbGF5VGFicyh0YWJzKSB7XG4gIHRhYkxpc3QuaW5uZXJIVE1MID0gXCJcIjsgLy8gQ2xlYXIgcHJldmlvdXMgcmVzdWx0c1xuICBjb25zdCBxdWVyeSA9IHNlYXJjaC52YWx1ZS50cmltKCk7XG5cbiAgY29uc3QgZmlsdGVyZWRUYWJzID0gdGFicy5maWx0ZXIoXG4gICAgKHRhYikgPT4gZnV6enlNYXRjaChxdWVyeSwgdGFiLnRpdGxlKSB8fCBmdXp6eU1hdGNoKHF1ZXJ5LCB0YWIudXJsKSxcbiAgKTtcblxuICBmaWx0ZXJlZFRhYnMucmV2ZXJzZSgpO1xuXG4gIGNvbnNvbGUubG9nKGZpbHRlcmVkVGFicyk7XG5cbiAgZmlsdGVyZWRUYWJzLmZvckVhY2goKHRhYiwgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgY29uc3QgbGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgbGlzdEl0ZW0uY2xhc3NMaXN0LmFkZChcImZ1enp5LXRhYi1zZWFyY2gtdGFiLWxpc3QtaXRlbVwiKTtcbiAgICBjb25zdCBob3N0bmFtZSA9IG5ldyBVUkwodGFiLnVybCkuaG9zdG5hbWU7XG4gICAgbGlzdEl0ZW0udGV4dENvbnRlbnQgPSBob3N0bmFtZSArIFwiIDogXCIgKyB0YWIudGl0bGU7XG5cbiAgICBpZiAoaW5kZXggPT09IGFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIHNlbGVjdGVkTGlzdCA9IGxpc3RJdGVtO1xuICAgICAgc2VsZWN0ZWRMaXN0LmNsYXNzTGlzdC5hZGQoXCJiZy1ncmF5LTUwMFwiKTtcbiAgICB9XG5cbiAgICBsaXN0SXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgYWN0aW9uOiBcImhpZ2hsaWdodFRhYlwiLFxuICAgICAgICB0YWJJbmRleDogdGFiLmluZGV4LFxuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobWFpbkRpdik7XG4gICAgfSk7XG5cbiAgICB0YWJMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGZldGNoQW5kRGlzcGxheVRhYnMoKSB7XG4gIGNvbnN0IHNlYXJjaFF1ZXJ5ID0gc2VhcmNoLnZhbHVlO1xuXG4gIC8vIFJlcXVlc3QgdGFiIGluZm9ybWF0aW9uIGZyb20gdGhlIGJhY2tncm91bmQgc2NyaXB0XG4gIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7IGFjdGlvbjogXCJnZXRUYWJzXCIgfSwgKHRhYnMpID0+IHtcbiAgICBpZiAodGFicykge1xuICAgICAgZGlzcGxheVRhYnModGFicywgc2VhcmNoUXVlcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIHRhYnMuXCIpO1xuICAgIH1cbiAgfSk7XG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAvLyBDaGVjayBpZiB0aGUgQ29udHJvbCBrZXkgaXMgcHJlc3NlZCBhbmQgdGhlIEYga2V5IGlzIHByZXNzZWRcbiAgaWYgKGV2ZW50LmN0cmxLZXkgJiYgZXZlbnQua2V5ID09PSBcImZcIikge1xuICAgIHNlYXJjaC52YWx1ZSA9IFwiXCI7XG4gICAgZmV0Y2hBbmREaXNwbGF5VGFicygpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgdGhlIGRlZmF1bHQgYnJvd3NlciBhY3Rpb24gKGUuZy4sIG9wZW5pbmcgdGhlIHNlYXJjaCBiYXIpXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtYWluRGl2KTtcbiAgICBzZWFyY2guZm9jdXMoKTtcbiAgICBjb25zb2xlLmxvZyhcInRlc3RcIik7XG4gIH1cbn0pO1xuXG5tYWluRGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAvLyBDaGVjayBpZiB0aGUgQ29udHJvbCBrZXkgaXMgcHJlc3NlZCBhbmQgdGhlIEYga2V5IGlzIHByZXNzZWRcbiAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobWFpbkRpdik7XG4gIH1cbn0pO1xuXG4vLyBFdmVudCBsaXN0ZW5lciBmb3IgaW5wdXRcbnNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZmV0Y2hBbmREaXNwbGF5VGFicyk7XG5cbnNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgc2VsZWN0ZWRMaXN0LmNsaWNrKCk7XG4gIH0gZWxzZSBpZiAoZXZlbnQuY3RybEtleSAmJiBldmVudC5rZXkgPT09IFwicFwiKSB7XG4gICAgaWYgKHNlbGVjdGVkTGlzdC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICBzZWxlY3RlZExpc3QuY2xhc3NMaXN0LnJlbW92ZShcImJnLWdyYXktNTAwXCIpOyAvLyBSZW1vdmUgY3VycmVudCBzZWxlY3Rpb25cbiAgICAgIHNlbGVjdGVkTGlzdCA9IHNlbGVjdGVkTGlzdC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOyAvLyBVcGRhdGUgcmVmZXJlbmNlXG4gICAgICBzZWxlY3RlZExpc3QuY2xhc3NMaXN0LmFkZChcImJnLWdyYXktNTAwXCIpOyAvLyBIaWdobGlnaHQgbmV3IHNlbGVjdGlvblxuICAgIH1cbiAgfSBlbHNlIGlmIChldmVudC5jdHJsS2V5ICYmIGV2ZW50LmtleSA9PT0gXCJuXCIpIHtcbiAgICAvLyBNb3ZlIHRvIHRoZSBuZXh0IHNpYmxpbmdcbiAgICBpZiAoc2VsZWN0ZWRMaXN0Lm5leHRFbGVtZW50U2libGluZykge1xuICAgICAgc2VsZWN0ZWRMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJiZy1ncmF5LTUwMFwiKTsgLy8gUmVtb3ZlIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICBzZWxlY3RlZExpc3QgPSBzZWxlY3RlZExpc3QubmV4dEVsZW1lbnRTaWJsaW5nOyAvLyBVcGRhdGUgcmVmZXJlbmNlXG4gICAgICBzZWxlY3RlZExpc3QuY2xhc3NMaXN0LmFkZChcImJnLWdyYXktNTAwXCIpOyAvLyBIaWdobGlnaHQgbmV3IHNlbGVjdGlvblxuICAgIH1cbiAgfVxufSk7XG4iXSwibmFtZXMiOlsiZnV6enlNYXRjaCIsInF1ZXJ5IiwidGV4dCIsInF1ZXJ5TG93ZXIiLCJ0b0xvd2VyQ2FzZSIsInRleHRMb3dlciIsInF1ZXJ5SW5kZXgiLCJjaGFyIiwibGVuZ3RoIiwibWFpbkRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInRhYkluZGV4IiwidGFiTGlzdCIsInNlYXJjaCIsInNlbGVjdGVkTGlzdCIsImZldGNoQW5kRGlzcGxheVRhYnMiLCJ2YWx1ZSIsImJyb3dzZXIiLCJydW50aW1lIiwic2VuZE1lc3NhZ2UiLCJhY3Rpb24iLCJ0YWJzIiwiaW5uZXJIVE1MIiwidHJpbSIsImZpbHRlcmVkVGFicyIsImZpbHRlciIsInRhYiIsInRpdGxlIiwidXJsIiwicmV2ZXJzZSIsImNvbnNvbGUiLCJsb2ciLCJmb3JFYWNoIiwiaW5kZXgiLCJhcnJheSIsImxpc3RJdGVtIiwiaG9zdG5hbWUiLCJVUkwiLCJ0ZXh0Q29udGVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJib2R5IiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsImRpc3BsYXlUYWJzIiwiZXJyb3IiLCJhdXRvZm9jdXMiLCJldmVudCIsImN0cmxLZXkiLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsImZvY3VzIiwiY2xpY2siLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwicmVtb3ZlIiwibmV4dEVsZW1lbnRTaWJsaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==